DISQUS.dtpl=function(){var c={version:"0.2",author:"Anton Kovalyov <anton@disqus.com>",getAction:function(a,e){function b(){var a=Array.prototype.slice.call(arguments);a.unshift(DISQUS.dtpl.actions.fire);return DISQUS.partial.apply({},a)}function c(b){return a.getAttribute("data-dsq-"+b)}var d=a.getAttribute("data-dsq-action"),j=DISQUS.jsonData.posts[a.getAttribute("data-dsq-comment")]||null,k=DISQUS.jsonData.request;if(e.type!="click"){if(e.type=="change"&&d=="thread:sort")return b("thread.sort",
a.value)}else switch(d){case "media:expand":return b("thread.expandMediaEmbed",c("media"));case "reactions:showRetweets":return b("reactions.showRetweets",c("reaction"));case "reactions:hide":return b("reactions.hide",c("reaction"));case "reactions:more":return b("reactions.loadMore");case "thread:subscribe":return b("thread.subscribe");case "thread:unsubscribe":return b("thread.unsubscribe");case "thread:paginate":return b("thread.paginate",c("page"));case "session:login":return b("auth.login");
case "session:help":return b("help.login");case "user:showProfile":return b("profile.show",j&&j.id,c("username"));case "comments:edit":return b("comments.edit",j.id);case "comments:edit:send":return b("comments.edit.send",j.id);case "comments:edit:cancel":return b("comments.edit.cancel",j.id);case "comments:reply":return b("comments.reply",j.id);case "comments:reply:send":if(k.is_authenticated)return b("comments.send",j&&j.id,a);return b("comments.validate",j&&j.id,a);case "comments:reply:toggleSharing":return d=
a.getAttribute("type"),b("share.toggle",a,d,j&&j.id);case "comments:text:collapse":return b("comments.text.collapse",j.id);case "comments:text:expand":return b("comments.text.expand",j.id);case "comments:like":return b("comments.like",a,j.id);case "comments:showParent":return b("comments.showParent",j.parent_post_id);case "comments:showLikes":return b("comments.showUserVotes",j.id);case "comments:permalink":return b("comments.permalink",j.id);case "comments:moderate":return b("comments.moderate.options",
j.id);case "comments:report":return b("comments.report",j.id);case "comments:collapse":return b("comments.collapse",j.id);case "comments:expand":return b("comments.expand",j.id)}},append:function(a,b){a.innerHTML=b},replaceHtml:function(a,b){a.innerHTML=b},getGuestFields:function(a){function b(e){return DISQUS.nodes.get("#"+e+(a?"-"+a:""))}return{name:b("dsq-field-name"),email:b("dsq-field-email"),website:b("dsq-field-website"),username:b("dsq-field-username"),password:b("dsq-field-password"),subscribe:b("dsq-subscribe-on-post")}}},
b=function(){};b.prototype={container:function(){return this._container},textareaContainer:function(){return this._textareaContainer},show:function(){var a=this.container();if(a)a.style.display="block";this.rpc.show&&this.rpc.show()},hide:function(){var a=this.container();if(a)a.style.display="none"}};var d=function(a,b){var c=this;c.id=a;c.rpcReady=!1;c.focusCalled=!1;c._container=null;var d;d=a?c.render(b):DISQUS.jsonData.forum.template.api=="1.0"?DISQUS.nodes.get("#dsq-textarea-wrapper"):DISQUS.nodes.get(".dsq-textarea-wrapper",
DISQUS.nodes.get("#dsq-reply"))[0];c.rpc=DISQUS.comm.Reply.create(d,a,function(){DISQUS.dtpl.actions.fire("comments.reply.new.onLoadingEnd",a);c.rpcReady=!0;c.focusCalled&&setTimeout(function(){c.focus()},0)});var m=DISQUS.nodes.get(".dsq-attach-media-container",c.container())[0];if(m&&DISQUS.dtpl.actions.registered("comments.reply.media.upload.onSuccess")&&DISQUS.jsonData.context.switches.upload_media)c.uploadrpc=DISQUS.comm.Upload.create(m,a);c._textareaContainer=d;DISQUS.dtpl.actions.fire("comments.reply.new.onLoadingStart",
a)};d.instances={};d.create=function(a,b){var c=new d(a,b);return d.instances[a]=c};d.get=function(a){return d.instances[a]};DISQUS.extend(d.prototype,b.prototype,{focus:function(){this.rpcReady?this.rpc.focus():this.focusCalled=!0},render:function(a){var b=this.id;if(typeof a==="string"){var d=document.createElement("div");d.innerHTML=a;a=d}d=DISQUS.nodes.get(c.APPEND_REPLY_ID(this.id));this._container=a;DISQUS.jsonData.forum.template.api=="1.0"?(d.appendChild(a),a=DISQUS.nodes.get("#dsq-textarea-wrapper"+
(b?"-"+b:""))):(DISQUS.nodes.insertAfter(d,a),a=DISQUS.nodes.get(".dsq-textarea-wrapper",a)[0]);return a}});c.ReplyBox=d;var a=function(a,b){var d=this;if(typeof b==="string"){var h=document.createElement("div");h.innerHTML=b;b=h}if(DISQUS.jsonData.forum.template.api=="1.0")h=document.createElement("div"),h.appendChild(b),b=h,b.id="dsq-edit-"+a,b.className="dsq-edit dsq-textarea";h=DISQUS.nodes.get(c.APPEND_EDIT_ID(a));DISQUS.jsonData.forum.template.api=="1.0"?(h.appendChild(b),h=DISQUS.nodes.get("#dsq-edit-iframe-"+
a)):(DISQUS.nodes.insertAfter(h,b),h=DISQUS.nodes.get(".dsq-textarea-wrapper",b)[0]);d.rpc=DISQUS.comm.Edit.create(h,a,function(){d.rpc.focus()});d._container=b;d._textareaContainer=h};a.instances={};a.create=function(b,c){var d=new a(b,c);return a.instances[b]=d};a.get=function(b){return a.instances[b]};DISQUS.extend(a.prototype,d.prototype,{focus:function(){}});c.EditBox=a;DISQUS.once("thread.onReady",function(){DISQUS.dtpl.actions.fire("messagesx.render",DISQUS.jsonData.messagesx)});DISQUS.once("loader.onActionsReady",
function(){DISQUS.dtpl.actions.fire("mentions.render",DISQUS.jsonData.posts);DISQUS.bind("loader.onDataReady",function(){DISQUS.dtpl.actions.fire("mentions.render",DISQUS.jsonData.posts)})});DISQUS.bind("data.onPostUpdate",function(a){var b={};typeof a.data.message==="string"&&(b[a.id]=DISQUS.jsonData.posts[a.id],DISQUS.dtpl.actions.fire("mentions.render",b))});return c}();
DISQUS.dtpl.actions=function(){function c(a){var b=function(b){return"#"+a+(b?"-"+b:"")};b.toString=function(){return b()};return b}function b(a){var a=DISQUS.nodes.get("li",a),b;for(b=0;b<a.length;++b)if(DISQUS.nodes.hasClass(a[b],"dsq-mentions-highlighted"))return a[b];return null}function d(a,b){if(!a)return!1;if(a.hasAttribute)return a.hasAttribute(b);else if(a.attributes)return!!a.attributes[b];return!1}function a(a,b,c){if(b=b?c=="up"?b.previousSibling:b.nextSibling:a.firstChild){do if(d(b,
"data-dsq-username"))return b;while(b=c=="up"?b.previousSibling:b.nextSibling)}}function f(a,b,c){if(DISQUS.settings.debug)return a.apply({},b);try{return a.apply({},b)}catch(e){return window.console&&window.console.log&&(c&&window.console.log("Exception in "+c),window.console.log(e),typeof printStackTrace!=="undefined"&&window.console.log(printStackTrace({e:e}).join("\n"))),!1}}var e={},i={},h={},m=DISQUS.dtpl,j=null,k=[],l=["1.0","1.1"];e.def=function(a,b,c){var e;typeof b==="string"?(e=b,b=c):
e=">= "+l[0];i[a]||(i[a]={});i[a][e]=b};var g=e.def;g("__.comments.reply.media.upload",function(a){e.fire("comments.reply.media.upload.onLoadingStart",a)});g("__.comments.reply.media.upload.onResponse",function(a,b){if(a&&a.constructor===Array)for(var c=a.length-1;c>=0;--c)e.fire("comments.reply.media.upload.onLoadingEnd",b),e.fire("comments.reply.media.upload.onSuccess",a[c],b);else a&&a.success&&a.media?(b=b||"",c=DISQUS.comm.Upload.recover(b),a.forum_id=DISQUS.jsonData.forum.id,a.thread_id=DISQUS.jsonData.thread.id,
a.id=b,c.media("set",a),e.fire("comments.reply.media.upload.onLoadingEnd",b),e.fire("comments.reply.media.upload.onSuccess",a.media,b)):a.silence||(a.message&&e.fire("message.error",a.message,a.title||"Error"),e.fire("comments.reply.media.upload.onLoadingEnd",b))});g("comments.reply.media.remove",function(a,b){var c={id:b,media:DISQUS.json.stringify(a.media)};DISQUS.request.get(DISQUS.jsonData.urls.upload_remove+"?ts="+ +new Date,c)});g("__.comments.reply.media.remove.onResponse",function(a){delete a.success;
a.id=a.id||"";a.forum_id=DISQUS.jsonData.forum.id;a.thread_id=DISQUS.jsonData.thread.id;DISQUS.comm.Upload.recover(a.id).media("remove",a,a.id);e.fire("comments.reply.media.remove.onSuccess",a)});g("__.comments.reply.media.upload.clear",function(a){var b=DISQUS.comm.Upload.recover(a);b&&(b.media("clear",{forum_id:DISQUS.jsonData.forum.id,thread_id:DISQUS.jsonData.thread.id,id:a||""}),e.fire("comments.reply.media.upload.clear",a))});g("message.error",function(a,b){DISQUS.popup.popModal(a,b||DISQUS.strings.get("Error"))});
g("message.error.onField",function(a,b){if(DISQUS.jsonData.forum.revert_new_login_flow)e.fire("message.error",DISQUS.strings.get(a),DISQUS.strings.get("Oops..."));else if(b){var c=DISQUS.nodes.get("#"+b+"-label");if(c)DISQUS.nodes.addClass(c,"dsq-error"),c.innerHTML=DISQUS.strings.get(a)}else alert(DISQUS.strings.get(a))});g("comments.reply.onCookieFailure","= 1.0",function(a){var b=document.createElement("div");b.innerHTML=DISQUS.renderBlock("cookieFailure");DISQUS.nodes.insertBefore(DISQUS.nodes.get("#dsq-form-area"+
(a?"-"+a:"")),b)});g("comments.reply.onCookieFailure",">= 1.1",function(){});g("message.unapprovedComment",function(a,b){DISQUS.popup.popModal(DISQUS.renderBlock("unapprovedCommentMessage",{mustVerify:a}),DISQUS.strings.get("Comment awaiting approval"),b,!0,"dsq-popup-unapproved")});g("share.toggle",function(a,b,c){DISQUS.nodes.hasClass(a,"dsq-share-toggled")?DISQUS.nodes.removeClass(a,"dsq-share-toggled"):DISQUS.nodes.addClass(a,"dsq-share-toggled");c=c||null;DISQUS.cache.postSharing[c]=DISQUS.cache.postSharing[c]||
{twitter:null,facebook:null};a=DISQUS.cache.postSharing[c];a[b]=!a[b]});g("private.setLoadingButton",function(a,b){var c=b?"-"+b:"",e;if(a){e=document.createElement("button");e.id=a.id+"-loading";e.className=a.className+" dsq-post-loading";e.innerHTML=DISQUS.strings.get("Just a moment...");a.style.display="none";a.parentNode.appendChild(e);if(c=DISQUS.nodes.get("#dsq-cancel-button"+c))c.style.display="none";DISQUS.cache.buttonsToRestore.push(a)}else DISQUS.lang.forEach(DISQUS.cache.buttonsToRestore,
function(a){a.style.display="inline";DISQUS.nodes.remove(DISQUS.nodes.get("#"+a.id+"-loading"))})});g("comments.validate",function(a){DISQUS.comm.Reply.recover(a).validate(function(b){b?DISQUS.comm.ensureLoggedIn(function(){e.fire("comments.send",a)},"postas",{onGuest:function(){e.fire("comments.send",a,null,{fields:DISQUS.dtpl.getGuestFields(null)})}}):(e.fire("message.error",DISQUS.strings.get("Please enter a comment to post.")),e.fire("private.setLoadingButton"))})});g("auth.login",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()})});
g("auth.disqus",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"disqus")});g("auth.twitter",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"twitter")});g("auth.yahoo",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"yahoo")});g("auth.openid",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"openid")});g("auth.google",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},"google")});g("auth.facebook",function(){DISQUS.comm.ensureLoggedIn(function(){DISQUS.redraw()},
"facebook")});g("auth.sso",function(){var a=window.open(DISQUS.config.sso.url,"ssoWindow","location=0,status=0,width="+(DISQUS.config.sso.width||800)+",height="+(DISQUS.config.sso.height||400)),b=setInterval(function(){DISQUS.window.isClosed(a)&&(clearInterval(b),window.location.reload())},500)});g("comments.text.expand",function(a){var b=DISQUS.nodes.get("#dsq-comment-message-"+a),c=DISQUS.nodes.get("#dsq-comment-text-"+a),e=DISQUS.nodes.get(".dsq-comment-truncate-expand",b)[0],b=DISQUS.nodes.get(".dsq-comment-truncate-collapse",
b)[0];e.style.display="none";b.style.display="inline";c.innerHTML=DISQUS.jsonData.posts[a].message;return!1});g("comments.text.collapse",function(a){var b=DISQUS.nodes.get("#dsq-comment-message-"+a),a=DISQUS.nodes.get("#dsq-comment-text-"+a),c=DISQUS.nodes.get(".dsq-comment-truncate-expand",b)[0],b=DISQUS.nodes.get(".dsq-comment-truncate-collapse",b)[0],e=DISQUS.jsonData.forum.comment_max_words;if(!a||e===0)return!1;if(DISQUS.nodes.truncateComment(a,e,"...")&&c&&b)c.style.display="inline",b.style.display=
"none";return!1});g("comments.insert",function(a,b,c){var d={};DISQUS.redraw();var f=DISQUS.nodes.get("#dsq-comments"),g=document.createElement("div");d.comment=DISQUS.jsonData.posts[b];d.comment.id=b;d.comment.author=DISQUS.jsonData.users[d.comment.user_key];if(c&&c.length)d.comment.media=c,DISQUS.jsonData.mediaembed=DISQUS.jsonData.mediaembed.concat(c);if(d.comment.parent_post_id){d.comment.parent=DISQUS.jsonData.posts[d.comment.parent_post_id];d.comment.parent.author=DISQUS.jsonData.users[d.comment.parent.user_key];
c=DISQUS.nodes.get("#dsq-comment-"+d.comment.parent_post_id);DISQUS.nodes.addClass(c,"dsq-comment-is-parent");c=d.comment.parent;do c.num_replies+=1,c=DISQUS.jsonData.posts[c.parent_post_id];while(c!==void 0)}d.comment.stripped=function(a){var b=d.comment.message.replace(/<.*?>/g,"");if(b.length>a)return b.substring(0,a);return null};DISQUS.dtpl.replaceHtml(g,DISQUS.renderBlock("comment",d));a===-1?f.appendChild(g):a?DISQUS.nodes.get("dsq-comment-"+a)&&(f=DISQUS.nodes.get(m.APPEND_COMMENT_ID(a)),
DISQUS.nodes.insertAfter(f,g)):f.insertBefore(g,f.firstChild);f=DISQUS.nodes.get("#dsq-avatar-"+b);f=DISQUS.nodes.get("img.dsq-deferred-avatar",f);DISQUS.lang.forEach(f,function(a){a.setAttribute("src",a.getAttribute("data-src"));DISQUS.nodes.removeClass(a,"dsq-deferred-avatar")});e.fire("comments.text.collapse",b);DISQUS.ui.applyTooltips(g);DISQUS.dtpl.actions.fire("__.comments.insert.onSuccess",a,b)});g("comments.insert.onSuccess",function(){});g("__.comments.insert.onSuccess",function(a,b){DISQUS.dtpl.actions.fire("comments.insert.onSuccess",
a,b)});g("comments.insert.onSuccess",function(){});g("comments.blacklist",function(a,b){var c=[],e=DISQUS.jsonData.posts[a],d=DISQUS.jsonData.users[e.user_key],f={"dsq-blacklist-username":5,"dsq-blacklist-email":1,"dsq-blacklist-ip":2};b?(DISQUS.lang.forEach(f,function(a,b){var e=DISQUS.nodes.get("#"+b);e&&e.checked&&c.push(a)}),c.length<1?alert(DISQUS.strings.get("Please select something to add to the blacklist.")):(DISQUS.popup.close(null,!0),DISQUS.lang.forEach(c,function(b){DISQUS.request.get(DISQUS.jsonData.urls.embed_block,
{post_id:a,type:b},!0)}))):(DISQUS.popup.close(null,!0),DISQUS.popup.popModal(DISQUS.renderBlock("blacklistPopup",{comment:e,user:d}),DISQUS.strings.get("Add to Blacklist")))});g("comments.outline",function(a){var b=DISQUS.nodes.get("#dsq-comment-"+a);b&&(DISQUS.nodes.addClass(b,"dsq-comment-outline"),setTimeout(function(){DISQUS.nodes.removeClass(b,"dsq-comment-outline")},3E3))});g("comments.permalink",function(a){DISQUS.popup.popModal(DISQUS.renderBlock("permalinkPopup",{postId:a}),DISQUS.strings.get("Link to this comment"),
a)});g("comments.send",function(a,b,c){if(!DISQUS.cache.postboxBusy[a||null]){DISQUS.cache.postboxBusy[a||null]=!0;var d=DISQUS.comm.Reply.recover(a),c=c||{},f=function(b){try{return+(DISQUS.cache.postSharing[a||null][b]||0)}catch(c){return 0}},g=function(b){DISQUS.dtpl.actions.fire("comments.send.onSuccess",b,a)},i=function(e){e=e.data;e.sendArguments={postId:a,element:b,options:c};DISQUS.dtpl.actions.fire("comments.send.onFailure",e)};b&&e.fire("private.setLoadingButton",b,a);DISQUS.jsonData.request.is_authenticated?
d.post({tw:f("twitter"),fb:f("facebook"),tr:f("tumblr"),wp:f("wordpress"),mt:f("movabletype"),tp:f("typepad"),yh:f("yahoo")},c.captcha||null,g,i):(f=c.fields||DISQUS.dtpl.getGuestFields(a),DISQUS.dtpl.validators.guestFields(f)&&d.postAsGuest(f.name.value,f.email.value,f.website?f.website.value:"",f.subscribe&&f.subscribe.checked,c.captcha||null,g,i));c.force&&DISQUS.cookies.create("skipped_auth",!0)}});g("comments.send.onSuccess",function(a,b){var c=DISQUS.jsonData.users,d=a.message.post_meta.user_key;
DISQUS.cache.postboxBusy[b||null]=!1;a.succeeded&&e.fire("__.comments.reply.media.upload.clear",a.message.post_meta.parent_post_id);DISQUS.updatePost(a.message.id,a.message.post_meta);if(!c[d])c[d]=a.message.user_meta;c=typeof disqus_insert_wrt_sort=="undefined"?DISQUS.jsonData.forum.reply_position?-1:null:DISQUS.jsonData.request.sort==2?null:-1;a.message.post_meta.approved&&e.fire("comments.insert",a.message.post_meta.parent_post_id||c,a.message.id,a.message.media_embed);b&&e.fire("comments.reply.cancel",
b);DISQUS.popup.close(null,!0);a.message.post_meta.approved?(e.fire("thread.incrementCommentsCount"),e.fire("comments.outline",a.message.id)):(e.fire("message.unapprovedComment",DISQUS.jsonData.request.missing_perm=="verify",a.message.id),DISQUS.redraw());a.message.fb_callback&&a.message.fb_callback[0]&&DISQUS.FB.init(function(){DISQUS.FB.streamPublish("",a.message.fb_callback[1])});e.fire("private.setLoadingButton");DISQUS.trigger("comment.onCreate",{id:a.message.id,text:a.message.post_meta.message})});
g("comments.showUserVotes",function(a){DISQUS.request.get(DISQUS.jsonData.urls.show_user_votes,{post_id:a},!0)});g("comments.highlight",function(a){DISQUS.api("posts/highlight",{data:{post:a},type:"POST",success:function(a){DISQUS.dtpl.actions.fire("comments.highlight.onSuccess",a[0])}})});g("comments.highlight.onSuccess",function(){});g("comments.unhighlight",function(a){DISQUS.api("posts/unhighlight",{data:{post:a},type:"POST",success:function(a){DISQUS.dtpl.actions.fire("comments.unhighlight.onSuccess",
a[0])}})});g("comments.unhighlight.onSuccess",function(){});g("comments.showParent",function(a){var b=DISQUS.jsonData.posts[a],c=DISQUS.renderBlock("commentMessage",{comment:b,cls:""});c+='<br/><br/><a href="#comment-'+a+'">'+DISQUS.strings.get("Jump to comment")+"</a>";DISQUS.popup.popModal(c,b.author.display_name+" "+DISQUS.strings.get("said")+"&hellip;",a)});g("captcha.init",function(a){window.Recaptcha||DISQUS.require("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js");DISQUS.addJob(function(){return!!window.Recaptcha},
a)});g("captcha.open",function(a){function b(){var c=DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.submit",a),e=DISQUS.nodes.get("button",DISQUS.nodes.get("#dsq-captcha"))[0];DISQUS.events.add(e,"click",c);e=DISQUS.nodes.get("#recaptcha_response_field");DISQUS.events.add(e,"keypress",function(a){(a.keyCode||a.which)==13&&c()});DISQUS.nodes.get("#dsq-captcha-loading").style.display="none";DISQUS.nodes.get("#dsq-captcha-container").style.display="block";Recaptcha.focus_response_field()}DISQUS.popup.popModal(DISQUS.renderBlock("recaptcha"),
DISQUS.strings.get("One More Step ..."),null,null,null,{onReady:function(){Recaptcha.create(DISQUS.jsonData.settings.recaptcha_public_key,"dsq-captcha-form",{theme:"clean",callback:b})},onClose:function(){Recaptcha.destroy();e.fire("private.setLoadingButton")}})});g("captcha.submit",function(a){var b=a.options,c=DISQUS.nodes.get;b.captcha={recaptcha_challenge_field:c("#recaptcha_challenge_field").value,recaptcha_response_field:c("#recaptcha_response_field").value};e.fire("comments.send",a.postId,
a.element,b);DISQUS.popup.close(null,!0)});g("comments.send.onFailure",function(a){a.sendArguments&&(DISQUS.cache.postboxBusy[a.sendArguments.postId||null]=!1);a.code=="captcha-required"?DISQUS.dtpl.actions.fire("captcha.init",DISQUS.lang.partial(DISQUS.dtpl.actions.fire,"captcha.open",a.sendArguments)):(e.fire("message.error",a.message),e.fire("private.setLoadingButton"))});g("comments.edit",function(a){DISQUS.states.edit[a]?e.fire("comments.edit.cancel",a):e.fire("comments.edit.new",a);DISQUS.states.edit[a]=
!DISQUS.states.edit[a]});g("comments.edit.new",function(a){DISQUS.comm.Edit.recover(a)||e.fire("comments.edit.render",a);e.fire(["comments.edit.show","1.1"],a)});g("comments.edit.render",function(a){var b=DISQUS.renderBlock("editArea",{comment:DISQUS.jsonData.posts[a]});m.EditBox.create(a,b)});g("comments.edit.show",">= 1.1",function(a){DISQUS.popup.close(null,!0);DISQUS.nodes.get("#dsq-comment-message-"+a).style.display="none";var b=DISQUS.nodes.get("#dsq-media-embed-"+a);if(b)b.style.display="none";
b=DISQUS.nodes.get("#dsq-comment-"+a);b=DISQUS.nodes.get(".dsq-editedtxt",b);b.length&&DISQUS.nodes.remove(b[0]);m.EditBox.get(a).show()});g("comments.edit.show","= 1.0",function(a){return e.fire("comments.edit",a)});g("comments.edit.cancel",function(a){var b=DISQUS.nodes.get("#dsq-comment-message-"+a),c=DISQUS.nodes.get("#dsq-media-embed-"+a);b.style.display="block";if(c)c.style.display="block";m.EditBox.get(a).hide()});g("comments.edit.send",function(a){DISQUS.comm.Edit.recover(a).save(function(b){DISQUS.updatePost(a,
b.message);e.fire("comments.edit.onSuccess",b,a)},function(b){e.fire("comments.edit.onFailure",b,a)})});g("comments.edit.onSuccess",function(a,b){var c=DISQUS.nodes.get("#dsq-comment-message-"+b);DISQUS.dtpl.replaceHtml(c,DISQUS.renderBlock("commentMessage",{comment:DISQUS.jsonData.posts[b],cls:"dsq-comment-message"}));for(var d=c.childNodes,f=d.length-1;f>=0;--f)if(RegExp("^dsq-comment-message-"+b).test(d[f].id)){c.innerHTML=d[f].innerHTML;break}e.fire("comments.edit.cancel",b)});g("comments.edit.onFailure",
function(){e.fire("message.error",DISQUS.strings.get("Your comment must be approved by a moderator before appearing here."),DISQUS.strings.get("Comment awaiting approval"));DISQUS.reload(function(){DISQUS.redraw()})});g("comments.spam",function(a){DISQUS.popup.close(null,!0);DISQUS.api("posts/spam",{data:{post:a},type:"POST",success:function(a){DISQUS.dtpl.actions.fire("comments.spam.onSuccess",a[0].id)}})});g("comments.spam.onSuccess","= 1.0",function(a){DISQUS.nodes.get("#comment-"+a).innerHTML=
DISQUS.strings.get("Comment marked as spam.");DISQUS.nodes.get("#comment-"+a).className="dsq-remove-message";DISQUS.nodes.get("#dsq-comment-"+a).style.display="none"});g("comments.spam.onSuccess",">= 1.1",function(){});g("comments.reply.onResize",function(){});g("comments.dislike",function(a){var b=DISQUS.jsonData,c=b.posts[a].down_voted?0:-1;b.request.is_authenticated||b.forum.allow_anon_votes?(e.fire("comments.dislike.onLoadingStart",a),DISQUS.request.get(b.urls.embed_vote,{post_id:a,vote:c},!0)):
e.fire("auth.disqus",DISQUS.strings.get("To vote please login"))});g("comments.dislike.onLoadingStart",function(){});g("comments.dislike.onLoadingEnd",function(){});g("comments.dislike.onSuccess",function(){});g("__.comments.dislike.onSuccess",function(a,b,c){var d=DISQUS.jsonData.posts[a].dislikes,f=c==-1;DISQUS.updatePost(a,{user_voted:c!==0,down_voted:f,dislikes:f?d+1:d-1,points:b});e.fire("comments.dislike.onLoadingEnd",a);e.fire("comments.dislike.onSuccess",a,b)});g("comments.like.loading","= 1.0",
function(a){a=DISQUS.nodes.get("#dsq-like-"+a);DISQUS.nodes.get("button",a)[0].style.display="none";var b=document.createElement("img");b.src=DISQUS.jsonData.settings.media_url+"/images/loading-small.gif";a.appendChild(b)});g("comments.like.onLoadingStart","= 1.0",function(a){e.fire("comments.like.loading",a)});g("comments.like.onLoadingStart",">= 1.1",function(){});g("comments.like.onLoadingEnd",function(){});g("comments.like",function(a,b){var c=+!DISQUS.jsonData.posts[b].up_voted,e=DISQUS.jsonData,
d=DISQUS.dtpl.actions.fire;e.request.is_authenticated||e.forum.allow_anon_votes?(d("comments.like.onLoadingStart",b),DISQUS.api("posts/vote",{data:{post:b,vote:c},type:"POST",success:function(a){a=a.post;d("__.comments.like.onSuccess",a.id,a.points,c);d("comments.like.updateCache",a.id,a.points,c)}})):d("auth.disqus",DISQUS.strings.get("To like please login"))});g("comments.like.updateCache",function(a,b,c){DISQUS.updatePost(a,{up_voted:!!c})});g("comments.like.onSuccess",">= 1.1",function(){});g("comments.like.onSuccess",
"= 1.0",function(a,b){var c=DISQUS.nodes.get("#dsq-like-pts-"+a),e;e=DISQUS.jsonData.posts[a].user_voted?" and "+(b-1||1)+" more":b+DISQUS.strings.pluralize(b," person"," people");if(c)c.innerHTML=e;DISQUS.nodes.get("#dsq-like-"+a).innerHTML=DISQUS.strings.get("You liked this.")+"&nbsp;&nbsp;"});g("__.comments.like.onSuccess",function(a,b,c){e.fire("comments.like.onLoadingEnd",a);e.fire("comments.like.onSuccess",a,b,c)});g("comments.report",function(a,b){function c(){DISQUS.popup.popModal(DISQUS.strings.get("Thank you. This comment has been flagged for moderator attention."),
DISQUS.strings.get("Successfully flagged"));DISQUS.nodes.remove(DISQUS.nodes.get("#dsq-post-report-"+a))}b?DISQUS.api("posts/report",{data:{post:a},type:"POST",success:c}):DISQUS.popup.popModal(DISQUS.renderBlock("reportConfirmation",{id:a}),DISQUS.strings.get("Report this comment to a moderator?"),a)});g("comments.reply",function(a,b){DISQUS.cache.toggledReplies[a]?(DISQUS.dtpl.actions.fire("comments.reply.cancel",a,b),DISQUS.cache.toggledReplies[a]=!1):(DISQUS.dtpl.actions.fire("comments.reply.new",
a,b),DISQUS.cache.toggledReplies[a]=!0)});g("comments.reply.new",function(a){DISQUS.comm.Reply.recover(a)||e.fire("comments.reply.render",a);e.fire("comments.reply.show",a)});g("comments.reply.new.onLoadingStart",function(){});g("comments.reply.new.onLoadingEnd",function(){});g("comments.reply.render",function(a){var b=DISQUS.renderBlock("postbox",{comment:DISQUS.jsonData.posts[a]});m.ReplyBox.create(a,b)});g("comments.reply.show",function(a){var b=m.ReplyBox.get(a);b.show();var c=b.container();DISQUS.nodes.addClass(c,
"dsq-append-post");(a=DISQUS.nodes.get("#dsq-comment-footer-reply-"+a))&&DISQUS.nodes.addClass(a,"dsq-comment-footer-reply-active");b.focus()});g("comments.reply.cancel",function(a){var b=m.ReplyBox.get(a);b.hide();b=b.container();DISQUS.nodes.removeClass(b,"dsq-append-post");(a=DISQUS.nodes.get("#dsq-comment-footer-reply-"+a))&&DISQUS.nodes.removeClass(a,"dsq-comment-footer-reply-active")});g("comments.moderate.options",function(a){var b=DISQUS.jsonData.posts[a];b.author=DISQUS.jsonData.users[b.user_key];
DISQUS.jsonData.request.is_moderator&&DISQUS.popup.popModal(DISQUS.renderBlock("moderateOptionsPopup",{comment:b}),DISQUS.strings.get("Moderate Options"),a)});g("comments.delete",function(a){DISQUS.popup.close(null,!0);DISQUS.api("posts/remove",{data:{post:a},type:"POST",success:function(a){DISQUS.each(a,function(a){e.fire("comments.delete.onSuccess",a.id)})},failure:function(){var b=DISQUS.strings.get("Oops, something went wrong"),c=DISQUS.strings.get("We couldn't delete this post. Please try again later.");
DISQUS.popup.popModal(c,b,a)}})});g("comments.delete.onSuccess","= 1.0",function(a){if(DISQUS.nodes.get("#comment-"+a)&&DISQUS.nodes.get("#dsq-comment-"+a))DISQUS.nodes.get("#comment-"+a).innerHTML=DISQUS.strings.get("Comment removed.")+' <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.restore\', '+a+');">'+DISQUS.strings.get("Undo")+"</a>",DISQUS.nodes.get("#comment-"+a).className="dsq-remove-message",DISQUS.nodes.get("#dsq-comment-"+a).style.display="none"});g("comments.delete.onSuccess",
">= 1.1",function(){});g("comments.restore",function(a){DISQUS.api("posts/restore",{data:{post:a},type:"POST",success:function(a){DISQUS.each(a,function(a){e.fire("comments.restore.onSuccess",a.id)})}})});g("comments.restore.onSuccess","= 1.0",function(a){if(DISQUS.nodes.get("#comment-"+a)&&DISQUS.nodes.get("#dsq-comment-"+a))DISQUS.nodes.get("#comment-"+a).innerHTML="",DISQUS.nodes.get("#comment-"+a).className="",DISQUS.nodes.get("#dsq-comment-"+a).style.display="block"});g("comments.restore.onSuccess",
">= 1.1",function(){});g("cookies.onFailure",function(a){DISQUS.states.noThirdPartyCookies=!0;if(DISQUS.browser.ie)DISQUS.states.useLoginWindow=!0;else if(DISQUS.browser.gecko||DISQUS.browser.opera){var b=DISQUS.jsonData.request.is_authenticated,c=DISQUS.jsonData.request.is_remote;if(DISQUS.browser.gecko&&(!b||c))DISQUS.states.loginDisabled=!0,e.fire("comments.reply.onCookieFailure",a)}else if(DISQUS.browser.webkit&&DISQUS.jsonData.request.is_sso&&(a=DISQUS.nodes.get("#dsq-sso-iframe"),!a)){a=document.createElement("div");
a.id="dsq-sso-iframe";a.style.display="none";DISQUS.nodes.get("body")[0].appendChild(a);var d=DISQUS.comm.SSO.create(function(){var a={forum_url:DISQUS.jsonData.forum.url},b=DISQUS.config.page;b.remote_auth_s2?a.remote_auth_s2=b.remote_auth_s2:b.remote_auth_s3&&DISQUS.extend(a,{remote_auth_s3:b.remote_auth_s3,api_key:b.api_key});d.authenticate(a)})}});g("user.newUser.onSuccess",function(){g("comments.insert",function(){if(DISQUS.getBlock("editProfileSuggestion")){var a=document.createElement("div");
a.innerHTML=DISQUS.renderBlock("editProfileSuggestion");var b=DISQUS.nodes.get("#dsq-comments"),c=DISQUS.nodes.get(".dsq-comment",b);b.insertBefore(a,c);(new DISQUS.ManualTooltip(DISQUS.nodes.get(".dsq-avatar")[0],{contentId:"dsq-edit-profile-suggestion",trigger:null})).show()}e.remove("comments.insert",arguments.callee);return!0})});g("user.remoteAccountSettings",function(){var a=DISQUS.nodes.createIframe(DISQUS.jsonData.urls.remote_settings,{},{id:"dsq-popup-account-settings"}),b=document.createElement("div");
b.appendChild(a);DISQUS.popup.popModal(b.innerHTML,DISQUS.strings.get("Account Settings"))});g("profile.show",function(a,b,c){c===void 0&&(c=a==null?DISQUS.jsonData.request.is_moderator:DISQUS.jsonData.posts[a].author_is_moderator);return DISQUS.popup.popProfile(a,b,c)});g("profile.dashboard",function(){window.location.href="http://disqus.com/dashboard"});g("profile.edit",function(){(new DISQUS.ui.ProfileEditModal).open()});g("profile.displayDeferredAvatars",function(){function a(b){var b=c[b],e=
DISQUS.nodes.getPosition(b);if(e[1]<d+f&&e[1]+b.offsetHeight>d)return b.setAttribute("src",b.getAttribute("data-src")),DISQUS.nodes.removeClass(b,"dsq-deferred-avatar"),b.removeAttribute("data-src"),!0;return!1}for(var b=DISQUS.nodes.get("img.dsq-deferred-avatar"),c=[],e=0;e<b.length;e++)b[e].offsetParent&&c.push(b[e]);if(c.length){var d,f;DISQUS.browser.ie?function(){var a=document.documentElement;d=a.scrollTop;f=a.clientHeight}():(d=window.pageYOffset,f=window.innerHeight);b=function(){for(var a,
b,e=0,g=c.length,i,r;e<g;)if(b=parseInt((e+g)/2,10),a=c[b],i=DISQUS.nodes.getPosition(a),r=i[1]>=d+f,a=i[1]+a.offsetHeight<=d)e=b+1;else if(r)g=b;else return b;return-1}();if(b!==-1){for(e=b;e>=0&&a(e);e--);for(e=b+1;e<c.length&&a(e);e++);}}});g("mentions.render",function(a){var b=/@[\w\-]+:\w+/g,c,d={disqus:"mentions.render.disqus",twitter:"mentions.render.twitter"};DISQUS.each(a,function(a){a&&a.message&&(c=a.message.match(b))&&DISQUS.each(c,function(b){var c=b.slice(1).split(":"),f=c[0].toLowerCase(),
c=c[1].toLowerCase();d.hasOwnProperty(c)||(c="disqus");e.fire(d[c],a,b,f)})})});g("mentions.render.disqus",function(a,b,c){var e=DISQUS.jsonData.users[c];a.message=a.message.replace(b,'<span class="dsq-mention dsq-tt dsq-mention-disqus"original-title="Expand '+(e?e.display_name:c)+'\'s profile" data-dsq-username="'+c+'" data-dsq-remote="disqus"><a class="" href="'+DISQUS.settings.disqus_url+"/"+c+'" target="_blank" onclick="DISQUS.dtpl.actions.fire(\'profile.show\', undefined, \''+c+"');return false;\">"+
(e?e.display_name:c)+"</a></span>")});g("mentions.render.twitter",function(a,b,c){a.message=a.message.replace(b,'<span class="dsq-mention dsq-tt dsq-mention-twitter"original-title="Expand @'+c+'\'s profile" data-dsq-username="'+c+'" data-dsq-remote="twitter"><a class="twitter-account" href="http://twitter.com/'+c+'" onclick="window.open(\''+("http://twitter.com/intent/user?screen_name="+c)+"', 'Twitter Mention', 'height=420, width=550');return false;\">@"+c+"</a></span>")});g("messagesx.render",function(a){DISQUS.jsonData.context.switches.achievements&&
DISQUS.each(a.unread,function(a){var b=document.createElement("div");b.innerHTML=DISQUS.renderBlock("messagesxPopup",{message:a});DISQUS.nodes.insertAfter(DISQUS.nodes.get("#dsq-global-toolbar"),b)})});g("messagesx.markRead",function(a){DISQUS.api("messagesx/markRead",{data:{message:a},type:"POST",success:function(){DISQUS.nodes.remove(DISQUS.nodes.get("#dsq-messagesx-message-"+a))}});return!1});g("thread.initialize",function(){DISQUS.jsonData.forum.template.api=="1.1"?DISQUS.extend(m,{APPEND_REPLY_ID:c("dsq-append-reply"),
APPEND_EDIT_ID:c("dsq-append-edit"),APPEND_COMMENT_ID:c("dsq-append-post")}):DISQUS.extend(m,{APPEND_REPLY_ID:c("dsq-append-post"),APPEND_EDIT_ID:c("dsq-comment-body"),APPEND_COMMENT_ID:c("dsq-append-post")});DISQUS.jsonData.context.forum_facebook_key&&DISQUS.FB.init();e.fire("toolbar.initialize");DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars");DISQUS.events.debounce(window,"scroll",function(){DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars")},250);if(DISQUS.jsonData.context.show_reply){DISQUS.comm.Reply.reset();
m.ReplyBox.create();DISQUS.jsonData.realtime_enabled&&e.registered("realtime.initialize")&&e.fire("realtime.initialize");var a=document.createElement("div");a.innerHTML=DISQUS.renderBlock("pageInfo");var b=DISQUS.nodes.get("#disqus_thread");b.appendChild(a);DISQUS.ui.truncateComments(b);DISQUS.cache.toggledReplies={}}});g("thread.ready",function(){setTimeout(function(){e.fire("profile.displayDeferredAvatars");DISQUS.ui.applyTooltips()},0);DISQUS.defer(function(){var a=DISQUS.comm.Reply.recover();
return DISQUS.comm.Default.recover().isReady&&(typeof a=="undefined"||a.isReady)},function(){DISQUS.trigger("thread.onReady")})});g("thread.incrementCommentsCount",function(){var a=DISQUS.nodes.get("#dsq-num-posts"),b=DISQUS.nodes.get("#dsq-total-posts");if(a){var c=a.innerHTML.split("-");a.innerHTML=c.length==1?parseInt(c[0],10)+1:c[0]+"-"+(parseInt(c[1],10)+1)}if(b)b.innerHTML=parseInt(b.innerHTML,10)+1});g("thread.paginate",function(a,b,c){a={slug:DISQUS.jsonData.thread.slug,p:a};if(typeof c==
"undefined")c=DISQUS.config.page.per_page;if(DISQUS.config.page.sort)a.sort=DISQUS.config.page.sort;if(typeof c!="undefined")a.per_page=c;DISQUS.dtpl.actions.fire("thread.paginate.onLoadingStart");if(b)b.style.display="none";DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,a,!0)});g("thread.paginate.onLoadingStart","= 1.0",function(){DISQUS.jsonData.thread.pagination_type=="num"?(DISQUS.window.anchor("disqus_thread"),DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+
'/images/loading.gif"/>'):DISQUS.nodes.get("#dsq-pagination").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading-small.gif"/>'});g("thread.paginate.onLoadingStart",">= 1.1",function(){});g("thread.paginate.onLoadingEnd",function(){});g("thread.update",function(){function a(b){if(c)c.innerHTML=b}var b=DISQUS.nodes.get("#dsq-comments"),c=DISQUS.nodes.get("#dsq-num-posts"),e=DISQUS.nodes.get("#dsq-pagination"),d,f=DISQUS.jsonData.thread.num_posts;DISQUS.trigger("loader.onDataReady");
if(DISQUS.jsonData.thread.pagination_type=="num")DISQUS.dtpl.replaceHtml(b,DISQUS.renderBlock("comments")),DISQUS.ui.applyTooltips(b),DISQUS.jsonData.thread.total_posts>f?(d=DISQUS.jsonData.thread.offset_posts,a(d+1+"-"+(d+f))):a(f);else if(DISQUS.jsonData.thread.pagination_type=="append")DISQUS.jsonData.request.page==1?(b.innerHTML=DISQUS.renderBlock("comments"),a(f)):(d=document.createElement("div"),d.innerHTML=DISQUS.renderBlock(function(a){var b="";DISQUS.each(a.comments,function(a){b+=DISQUS.renderBlock("comment",
{comment:a})});return b}),b.appendChild(d),DISQUS.ui.applyTooltips(d),d=c?parseInt(c.innerHTML,10):0,a(d+f));e.innerHTML=DISQUS.renderBlock("pagination");DISQUS.trigger("thread.onPaginate");DISQUS.ui.truncateComments(b);DISQUS.dtpl.actions.fire("profile.displayDeferredAvatars");DISQUS.dtpl.actions.fire("thread.paginate.onLoadingEnd")});g("thread.sort.onLoadingStart","= 1.0",function(){DISQUS.nodes.get("#dsq-comments").innerHTML='<img src="'+DISQUS.jsonData.settings.media_url+'/images/loading.gif"/>'});
g("thread.sort.onLoadingStart",">= 1.1",function(){});g("thread.sort.onLoadingEnd",function(){});g("thread.sort",function(a){/hot|best|newest|oldest|highlighted/.test(a)&&(a={slug:DISQUS.jsonData.thread.slug,sort:a,p:1},DISQUS.dtpl.actions.fire("thread.sort.onLoadingStart"),DISQUS.request.get(DISQUS.jsonData.urls.embed_thread,a,!0))});g("thread.subscribe",function(a){var b=DISQUS.jsonData.urls.embed_subscribe,c=DISQUS.jsonData.request;c.is_authenticated&&c.email||a?(a&&DISQUS.popup.close(null,!0),
DISQUS.request.get(b,{status:1,slug:DISQUS.jsonData.thread.slug,email:a||""},!0)):a||(DISQUS.popup.popModal(DISQUS.renderBlock("subscribeForm"),DISQUS.strings.get("Get notified of new comments by email")),DISQUS.nodes.get("input",DISQUS.nodes.get("#dsq-popup-message"))[0].focus())});g("__.thread.subscribe.onChange",function(a){a=!!parseInt(a,10);(DISQUS.jsonData.context.subscribed=a)?e.fire("thread.subscribe.onSuccess"):e.fire("thread.unsubscribe.onSuccess")});g("thread.subscribe.onSuccess","= 1.0",
function(){var a=DISQUS.strings.get("Subscribed"),b=DISQUS.strings.get("You have subscribed to this comment thread. New comments will be sent directly to your email inbox, where you may read and respond by email.");DISQUS.nodes.get("#dsq-subscribe").innerHTML='<a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.unsubscribe\');">'+DISQUS.strings.get("Unsubscribe")+"</a>";DISQUS.popup.popModal(b,a)});g("thread.subscribe.onSuccess",">= 1.1",function(){});g("thread.unsubscribe",function(){var a=
DISQUS.jsonData.urls.embed_subscribe;DISQUS.jsonData.request.is_authenticated&&DISQUS.request.get(a,{status:0,slug:DISQUS.jsonData.thread.slug},!0)});g("thread.unsubscribe.onSuccess","= 1.0",function(){var a=DISQUS.strings.get("Unsubscribed"),b=DISQUS.strings.get("You have unsubscribed from this comment thread. New comments will no longer be sent to your email inbox.");DISQUS.nodes.get("#dsq-subscribe").innerHTML='<a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.subscribe\');">'+DISQUS.strings.get("Subscribe by email")+
"</a>";DISQUS.popup.popModal(b,a)});g("thread.unsubscribe.onSuccess",">= 1.1",function(){});g("thread.vote",function(a){function b(c,e){var d=DISQUS.nodes;d.hasClass(c,"dsq-toggled")?(a=0,d.removeClass(c,"dsq-toggled")):d.addClass(c,"dsq-toggled");d.removeClass(e,"dsq-toggled")}var c=DISQUS.jsonData;if(c.request.is_authenticated||c.forum.allow_anon_votes){var e=DISQUS.nodes.get("#dsq-like-thread-button"),d=DISQUS.nodes.get("#dsq-dislike-thread-button");a>0?b(e,d):b(d,e);DISQUS.api("threads/vote",
{data:{thread:c.thread.id,vote:a},type:"POST",success:function(b){DISQUS.dtpl.actions.fire("thread.vote.onSuccess",a,b.thread.likes)}})}else DISQUS.dtpl.actions.fire("auth.disqus",DISQUS.strings.get("To like please login"))});g("thread.vote.onSuccess",function(a,b){a>0?e.fire("thread.share.new"):e.fire("thread.share.cancel");DISQUS.jsonData.thread.user_vote=a;DISQUS.jsonData.thread.likes=b;if(DISQUS.jsonData.request.is_authenticated){var c=DISQUS.jsonData.request.username;if(a==1){var d={};d[c]={username:c,
avatar:DISQUS.jsonData.urls.request_user_avatar,url:DISQUS.jsonData.urls.request_user_profile,name:DISQUS.jsonData.request.display_username};DISQUS.jsonData.thread.voters=DISQUS.lang.extend(d,DISQUS.jsonData.thread.voters)}else delete DISQUS.jsonData.thread.voters[c]}DISQUS.db.available()&&(c=DISQUS.db.get("thread_votes")||{},c[DISQUS.jsonData.thread.id]={value:a,timestamp:DISQUS.jsonData.request.timestamp},DISQUS.db.set("thread_votes",c));c=DISQUS.nodes.get("#dsq-content");if(c=DISQUS.nodes.get("ul.dsq-like-faces",
c)[0])c.innerHTML=DISQUS.renderBlock("likeActivity"),DISQUS.ui.applyTooltips(c)});g("thread.help",function(){DISQUS.jsonData.request.is_moderator&&DISQUS.popup.popModal(DISQUS.renderBlock("moderatorHelpPopup"),DISQUS.strings.get("Help"))});g("thread.settings",function(){DISQUS.jsonData.request.is_moderator&&DISQUS.popup.popModal(DISQUS.renderBlock("threadSettingsPopup"),DISQUS.strings.get("Moderator Settings"))});g("thread.moderatorActions",function(){DISQUS.jsonData.request.is_moderator&&DISQUS.popup.popModal(DISQUS.renderBlock("moderatorActionsPopup"),
DISQUS.strings.get("Moderate Options"))});g("thread.close",function(){var a=DISQUS.jsonData;DISQUS.api("threads/close",{data:{forum:a.forum.url,thread:a.thread.id},type:"POST",success:function(){DISQUS.ui.Modal.closeAll();DISQUS.reload(function(){DISQUS.redraw()})}})});g("thread.open",function(){var a=DISQUS.jsonData;DISQUS.api("threads/open",{data:{forum:a.forum.url,thread:a.thread.id},type:"POST",success:function(){DISQUS.ui.Modal.closeAll();DISQUS.reload(function(){DISQUS.redraw()})}})});g("thread.updateModerationSettings",
function(a){var b=DISQUS.jsonData,b={forum:b.forum.url,thread:b.thread.id};DISQUS.extend(b,a);DISQUS.api("threads/updateModerationSettings",{data:b,type:"POST",success:function(a){DISQUS.dtpl.actions.fire("thread.updateModerationSettings.onSuccess",a)}})});g("thread.updateModerationSettings.onSuccess",function(){});g("thread.updateDaysAlive",function(){var a=DISQUS.nodes.get("#dsq-thread-settings-status"),b=DISQUS.nodes.get("#dsq-thread-days-alive").value;DISQUS.dtpl.actions.fire("thread.updateModerationSettings",
{lifespan:b});a.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){a.innerHTML=""},1E3)});g("thread.updateModerateAll",function(){var a=DISQUS.nodes.get("#dsq-thread-settings-status"),b=+!!DISQUS.nodes.get("#dsq-thread-moderate-all").checked;DISQUS.dtpl.actions.fire("thread.updateModerationSettings",{moderate:b});a.innerHTML=DISQUS.strings.get("Saved!");setTimeout(function(){a.innerHTML=""},1E3)});g("thread.expandMediaEmbed",function(a){var b;DISQUS.lang.forEach(DISQUS.jsonData.mediaembed,
function(c){c.id==a&&(b=c)});DISQUS.popup.popModal(DISQUS.renderBlock("mediaEmbedPopup",{media:b}),DISQUS.strings.get("Attached File"),null,!0,"dsq-media-embed")});g("thread.share.send",function(){if(j){var a=DISQUS.nodes.get("#dsq-share-thread-twitter"),b=DISQUS.nodes.get("#dsq-share-thread-facebook"),a={facebook:b&&b.checked,twitter:a&&a.checked};if(a.twitter||a.facebook){b=DISQUS.nodes.get("#dsq-share-step-1");DISQUS.nodes.hide(b,!0);b=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.show(b,
!0);j.reposition();k=[];var c={};if(DISQUS.jsonData.request.is_authenticated)b=DISQUS.jsonData.request.sharing,c={tw:+(a.twitter&&b.twitter.enabled),fb:+(a.facebook&&b.facebook.enabled&&!DISQUS.jsonData.request.is_remote)};(c.tw||c.fb)&&k.push(function(){DISQUS.request.get(DISQUS.jsonData.urls.embed_thread_share,DISQUS.lang.extend({},c,{title:document.title,thread:DISQUS.jsonData.thread.id}),!0)});a.facebook&&!c.fb&&k.push(function(){var a=window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(window.location),
"_blank","width=600,height=400");DISQUS.addJob(function(){return!a||a.closed},function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")})});a.twitter&&!c.tw&&k.push(function(){DISQUS.popup.popModal('<div id="dsq-tweetbox-container" style="width:520px;height:160px"></div>',"Share on Twitter",null,null,null,{onClose:function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")},onReady:function(){var a=DISQUS.nodes.get("#dsq-tweetbox-container"),b=new DISQUS.TweetFrame(a,{onReady:function(){b.setContent(document.title+
": "+window.location)},onSuccess:function(){DISQUS.popup.close(null,!0);DISQUS.dtpl.actions.fire("thread.share.nextJob")}});b.init()}})});DISQUS.dtpl.actions.fire("thread.share.nextJob")}}});g("thread.share",function(){e.fire("thread.share.send")});g("thread.share.new",function(){if(j){var a=DISQUS.nodes.get("div.dsq-share-step",j.container);DISQUS.lang.forEach(a,function(a){DISQUS.nodes.hide(a,!0)});DISQUS.nodes.show(a[0],!0);j.show()}});g("thread.share.cancel",function(){j&&j.hide()});g("thread.share.nextJob",
function(a){j&&(a?DISQUS.FB.init(function(){DISQUS.FB.streamShare("",a,function(){DISQUS.dtpl.actions.fire("thread.share.nextJob")})}):k.length?k.shift()():DISQUS.dtpl.actions.fire("thread.share.onSuccess"))});g("thread.share.onSuccess",function(){if(j){var a=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.hide(a,!0);a=DISQUS.nodes.get("#dsq-share-step-3");DISQUS.nodes.show(a,!0);j.reposition()}});g("thread.share.onFailure",function(){if(j){var a=DISQUS.nodes.get("#dsq-share-step-3");DISQUS.nodes.hide(a,
!0);a=DISQUS.nodes.get("#dsq-share-step-2");DISQUS.nodes.show(a,!0);j.reposition()}});g("realtime.initialize",function(){var a=DISQUS.nodes.get("#dsq-realtime-toggle");if(!DISQUS.states.realtime&&a)DISQUS.states.realtime=!0,DISQUS.cache.realtime.last_checked=DISQUS.jsonData.request.timestamp,a.onclick=function(){DISQUS.cache.realtime.interval?e.fire("realtime.disable"):e.fire("realtime.enable");return!1},DISQUS.jsonData.forum.streaming_realtime||e.fire("realtime.updateCount"),DISQUS.jsonData.thread.realtime_rate===
0||DISQUS.jsonData.realtime_paused?e.fire("realtime.disable"):e.fire("realtime.enable")});g("realtime.enable",function(){var a=DISQUS.nodes.get("#dsq-realtime-toggle"),b=DISQUS.nodes.get("#dsq-realtime-status"),c=setInterval(function(){var a=DISQUS.cache.realtime,b=DISQUS.jsonData.urls.realtime;b+="?timestamp="+a.last_checked+"&thread_id="+DISQUS.jsonData.thread.id+"&f="+DISQUS.jsonData.forum.url+"&";if(!a.ongoing_request&&DISQUS.jsonData.realtime_enabled)a.prev_script&&a.prev_script.parentNode&&
DISQUS.nodes.remove(a.prev_script),a.ongoing_request=!0,a.prev_script=DISQUS.request.get(b,void 0,!0)},DISQUS.jsonData.context.realtime_speed);DISQUS.cache.realtime.interval=c;b.innerHTML=DISQUS.strings.get("enabled");a.innerHTML="("+DISQUS.strings.get("Pause")+")"});g("realtime.disable",function(){var a=DISQUS.nodes.get("#dsq-realtime-toggle"),b=DISQUS.nodes.get("#dsq-realtime-status"),c=DISQUS.cache.realtime.interval;if(c)clearInterval(c),DISQUS.cache.realtime.interval=null;b.innerHTML=DISQUS.strings.get("paused");
a.innerHTML="("+DISQUS.strings.get("Resume")+")"});g("realtime.updateCount",function(){var a=DISQUS.nodes.get("#dsq-content"),a=DISQUS.nodes.get("div.dsq-realtime-alert",a),b=DISQUS.cache.realtime.newPosts.length;if(function(){var a=0,b;for(b in DISQUS.jsonData.posts)if(DISQUS.jsonData.posts.hasOwnProperty(b)&&++a>5)return!1;return!0}())for(;a.length>1;)a.pop();DISQUS.lang.forEach(a,function(a){a.style.display=b?"block":"none";var c=DISQUS.strings.get("new comment was just posted."),d=DISQUS.strings.get("new comments were just posted.");
a.innerHTML=b>1?b+" "+d+" ":b+" "+c+" ";c=document.createElement("A");c.href="#";DISQUS.events.add(c,"click",function(a){a.preventDefault();return e.fire("realtime.show")});c.innerHTML=DISQUS.strings.get("Show");a.appendChild(c)})});g("realtime.insertNewPosts",function(){var a=null,b=DISQUS.nodes.get("#dsq-sort-select");if(!b&&DISQUS.jsonData.request.sort==4||b&&b.value=="oldest")a=-1;DISQUS.lang.forEach(DISQUS.cache.realtime.newPosts,function(b){e.fire("comments.insert",a,b);e.fire("thread.incrementCommentsCount");
e.fire("comments.outline",b)});DISQUS.jsonData.forum.streaming_realtime||(a?(b=DISQUS.nodes.get(".dsq-comment",DISQUS.nodes.get("#disqus_thread")),DISQUS.nodes.scrollTo(b[b.length-1])):DISQUS.nodes.scrollTo("#disqus_thread"));DISQUS.cache.realtime.newPosts=[]});g("realtime.show",function(){e.fire("realtime.insertNewPosts");e.fire("realtime.updateCount")});g("realtime.update",function(a,b,c){var d=DISQUS.cache.realtime;d.ongoing_request=null;d.last_checked=a;c&&DISQUS.lang.forEach(c,function(a,b){DISQUS.jsonData.users[b]||
(DISQUS.jsonData.users[b]=a)});b&&(DISQUS.lang.forEach(b,function(a,b){DISQUS.jsonData.posts[b]||(DISQUS.updatePost(b,a),d.newPosts.push(b))}),DISQUS.jsonData.forum.streaming_realtime?e.fire("realtime.insertNewPosts"):e.fire("realtime.updateCount"))});g("community.show",function(){(new DISQUS.ui.ForumCommunityModal).open(DISQUS.jsonData.urls.community)});g("reactions.hide",function(a){DISQUS.api("reactions/remove",{data:{reaction:a,forum:DISQUS.jsonData.forum.url},type:"POST",success:function(a){DISQUS.dtpl.actions.fire("reactions.hide.onSuccess",
a[0].id)}})});g("reactions.hide.onSuccess",function(a){DISQUS.nodes.hide(DISQUS.nodes.get("#dsq-reaction-"+a))});g("reactions.hide.onSuccess",function(a){DISQUS.nodes.get("#dsq-reaction-"+a).style.display="none"});g("reactions.loadMore",function(){DISQUS.request.get(DISQUS.jsonData.urls.embed_more_reactions,{t:DISQUS.jsonData.thread.id,s:DISQUS.jsonData.reactions_start,l:DISQUS.jsonData.reactions_limit},!0)});g("reactions.insert",function(a){var b=DISQUS.nodes.get("#dsq-reactions"),c=DISQUS.nodes.get("#dsq-show-more-reactions");
DISQUS.lang.forEach(a,function(a){var a={reaction:a},c=document.createElement("div"),e=a.reaction.get_service_name;a.reaction.service_icon=e=="trackback"||e=="pingback"?"rss":e.replace(" ","");c.innerHTML=DISQUS.renderBlock("reaction",a);b.appendChild(DISQUS.nodes.children(c)[0])});DISQUS.ui.applyTooltips(b);if(!DISQUS.jsonData.has_more_reactions)c.style.display="none"});g("reactions.reportMissing",function(){var a=DISQUS.jsonData.urls.embed_queueurl;DISQUS.jsonData.request.is_moderator&&DISQUS.jsonData.forum.reactions_enabled&&
(DISQUS.jsonData.thread.queued?DISQUS.popup.popModal(DISQUS.strings.get("The system will automatically search for new reactions. If any are found, they will displayed on this comment thread."),DISQUS.strings.get("Thank you")):DISQUS.request.get(a,{},!0))});g("reactions.showRetweets",function(a){var b;DISQUS.lang.forEach(DISQUS.jsonData.reactions,function(c){c.id==a&&(b=c)});DISQUS.popup.popModal(DISQUS.renderBlock("retweetsPopup",{reaction:b}),DISQUS.strings.get("Retweets"))});g("toolbar.initialize",
function(){if(DISQUS.nodes.get("#dsq-global-toolbar")){var a=DISQUS.nodes.get("#dsq-like-thread-button");j=new DISQUS.ManualTooltip(a,{trigger:null,contentId:"dsq-like-tooltip"});var b=[DISQUS.nodes.get("#dsq-share-thread-twitter"),DISQUS.nodes.get("#dsq-share-thread-facebook")],c=function(){var a=!1;DISQUS.lang.forEach(b,function(b){b&&(a=a||b.checked)});var c=DISQUS.nodes.get(".dsq-primary-action",j.content)[0];a?(c.removeAttribute("disabled"),DISQUS.nodes.removeClass(c,"dsq-tooltip-disabled-button")):
(c.setAttribute("disabled","disabled"),DISQUS.nodes.addClass(c,"dsq-tooltip-disabled-button"))};DISQUS.lang.forEach(b,function(a){a&&DISQUS.events.add(a,"click",c)});var e=DISQUS.nodes.get("#dsq-dropdown-menu");if(DISQUS.browser.ie6&&e){var a=DISQUS.nodes.get("#dsq-logo-dropdown"),d=DISQUS.nodes.get("a.dsq-dropdown-arrow",a)[0];DISQUS.events.add(d,"click",function(){DISQUS.nodes.toggleClass(d,"dsq-visible");DISQUS.nodes.toggleClass(e,"dsq-visible")});DISQUS.events.add(e,"click",function(a){if(DISQUS.nodes.closest(a.target||
a.srcElement,".dsq-login-button"))DISQUS.nodes.toggleClass(d,"dsq-visible"),DISQUS.nodes.toggleClass(e,"dsq-visible")})}}});g("help.login",function(){DISQUS.popup.popModal(DISQUS.renderBlock("helpLogin"),DISQUS.strings.get("Help: Enabling cookies"))});g("comments.reply.mentions.selectUser",function(a,b){var c=DISQUS.jsonData.users[b],e=DISQUS.comm.Reply.recover(a);c.identifier=b;e.selectUser(c);DISQUS.dtpl.actions.fire("comments.reply.mentions.clear",a)});g("comments.reply.mentions.selectActive",
function(a){var c=m.ReplyBox.get(a).textareaContainer();if(c=DISQUS.nodes.get(".dsq-mentions",c.parentNode)[0])c=b(c).getAttribute("data-dsq-username"),DISQUS.dtpl.actions.fire("comments.reply.mentions.selectUser",a,c)});g("comments.reply.mentions.suggest",function(b,c){function e(a){a=DISQUS.nodes.get("li",a);DISQUS.each(a,function(a){DISQUS.events.add(a,"click",function(a){if((a=a.target||a.srcElement)&&!DISQUS.nodes.hasClass(a,"dsq-mentions"))if(a=d(a,"data-dsq-username")?a:DISQUS.nodes.closest(a,
"li"))(a=a.getAttribute("data-dsq-username"))&&DISQUS.dtpl.actions.fire("comments.reply.mentions.selectUser",c,a)});DISQUS.events.add(a,"mouseover",function(a){var a=a.target||a.srcElement,b;if(a&&!DISQUS.nodes.hasClass(a,"dsq-mentions")&&(a=d(a,"data-dsq-username")?a:DISQUS.nodes.closest(a,"li"))&&d(a,"data-dsq-username"))b=DISQUS.nodes.get("li",a.parentNode),DISQUS.each(b,function(a){DISQUS.nodes.removeClass(a,"dsq-mentions-highlighted")}),DISQUS.nodes.addClass(a,"dsq-mentions-highlighted")})})}
function f(a){var b=a.remote_domain_name.toLowerCase()||"disqus";return'<li data-dsq-username="'+a.identifier+'" class="dsq-mentions-'+b+'">  <img class="dsq-mentions-avatar" src="'+a.avatar+'" />  <p class="dsq-mentions-name"><span>'+a.display_name+"</span></p></li>"}function g(b,c){var d=m.ReplyBox.get(c).textareaContainer(),f=DISQUS.nodes.get(".dsq-mentions",d.parentNode)[0];if(!f)f=document.createElement("ul"),f.className="dsq-mentions",DISQUS.nodes.insertAfter(d,f);b?(f.innerHTML=b,e(f),DISQUS.nodes.show(f),
(d=a(f,null,"down"))&&DISQUS.nodes.addClass(d,"dsq-mentions-highlighted")):DISQUS.nodes.hide(f)}if(!b||!b.sections)DISQUS.dtpl.actions.fire("comments.reply.mentions.clear",c);else{var i=!1,h="",j,k,l,x;for(l=0;l<b.sections.length;++l)if(j=b.sections[l],(k=b[j])&&k.length){h+='<li class="dsq-mention-section"><h5>'+j+"</h5></li>";for(x=0;x<k.length;++x)i||(i=!0),h+=f(b[j][x]),DISQUS.jsonData.users[k[x].identifier]||(DISQUS.jsonData.users[k[x].identifier]=k[x])}i?g(h,c):DISQUS.dtpl.actions.fire("comments.reply.mentions.clear",
c)}});g("comments.reply.mentions.move",function(c,e){var d=m.ReplyBox.get(e).textareaContainer(),f=DISQUS.nodes.get(".dsq-mentions",d.parentNode)[0],d=b(f);if(f=a(f,d,c))DISQUS.nodes.removeClass(d,"dsq-mentions-highlighted"),DISQUS.nodes.addClass(f,"dsq-mentions-highlighted")});g("comments.reply.mentions.clear",function(a){a=m.ReplyBox.get(a).textareaContainer();(a=DISQUS.nodes.get(".dsq-mentions",a.parentNode)[0])&&DISQUS.nodes.hide(a)});e.register=function(a,b){h[a]=h[a]||[];b.guid=DISQUS.getGuid();
h[a].push(b);return b};e.remove=function(a,b){if(h[a])if(typeof b==="undefined")return delete h[a],!0;else DISQUS.lang.forEach(h[a],function(c,e){if(b.guid&&b.guid==c.guid)return delete h[a][e],!0});return!1};e.fire=function(){var a=arguments[0],b=[],c=!0,d;if(DISQUS.jsonData!=null)if(DISQUS.status=="ready"&&DISQUS.jsonData.ready!==!1)d=DISQUS.jsonData.forum.template.api;else return;typeof a==="object"&&(d=a[1],a=a[0]);if(!e.registered(a,!1,d))throw"Action "+a+" not found";for(var g=1;g<arguments.length;g++)b.push(arguments[g]);
h[a]&&DISQUS.lang.forEach(h[a],function(e){c=c&&!!f(e,b,a)});e.hasDefault(a,d)&&c&&f(e.getDefault(a,d),b,a);return!1};e.registered=function(a,b,c){return!!h[a]||(b?!1:e.hasDefault(a,c))};e.hasDefault=function(a,b){return!!e.getDefault(a,b)};e.getDefault=function(a,b){b=b||l[l.length-1];if(!i[a])return!1;var c=null;DISQUS.each(i[a],function(a,e){var d=e.match(/(=|>=)\s*([0-9\.]+)/),f=d[1],d=d[2];f=="="&&b==d?c=a:f==">="&&b>=d&&(c=a)});return c};return e}();
DISQUS.dtpl.validators=function(){return{email:function(c){if(!/^[a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*\@(([a-z0-9\-\_\+]+(\.[a-z0-9\-\_\+]+)*)+\.[a-z]{2,}|([0-9]+\.){3}[0-9]+)$/i.test(c.value))return DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please enter a valid email to comment."),c.id),!1;return!0},name:function(c){var b=DISQUS.strings.get("Name");if(c.value==b||c.value.length<=1)return DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please enter a name to comment."),
c.id),!1;return!0},website:function(c){var b=DISQUS.strings.get("Website")+" ("+DISQUS.strings.get("Optional")+")";if(!c||!c.value)return!0;else if(c.value==b)return c.value="",!0;if(c.value.indexOf(".")==-1)return DISQUS.dtpl.actions.fire("message.error.onField",DISQUS.strings.get("Please check your website URL (this field is optional)."),c.id),!1;return!0},guestFields:function(c){c=c&&typeof c==="object"?c:DISQUS.dtpl.getGuestFields(c);if(DISQUS.jsonData.request.is_authenticated)return!0;if(!DISQUS.dtpl.validators.email(c.email))return!1;
if(!DISQUS.dtpl.validators.name(c.name))return!1;if(!DISQUS.dtpl.validators.website(c.website))return!1;return!0}}}();DISQUS.modules.dtpl=!0;
(function(){DISQUS.ReplyFrame=function(c,b){this.frame=null;this.container=c;this.id=b;this._type=c.id&&c.id.match(/edit/)?"edit":"reply"};DISQUS.ReplyFrame.prototype={setState:function(){},init:function(){this.frame=this._type=="edit"?DISQUS.comm.Edit.create(this.container.id,this.id):DISQUS.comm.Reply.create(this.container.id,this.id)}};DISQUS.TweetFrame=function(c,b){this.container=c;this.callbacks=b};DISQUS.TweetFrame.prototype={init:function(){this.rpc=DISQUS.comm.Twitter.create(this.container,
this.callbacks.onReady,this.callbacks.onSuccess)},setContent:function(c){this.rpc.setContent(c)}}})();DISQUS.modules.compat=!0;
DISQUS.comm=function(){return{ensureLoggedIn:function(c,b,d){d=d||{};if(DISQUS.jsonData.request.is_authenticated)c();else{switch(b){case "disqus":b=new DISQUS.ui.DisqusLoginBox;break;case "twitter":b=new DISQUS.ui.TwitterLoginBox;break;case "yahoo":b=new DISQUS.ui.YahooLoginBox;break;case "openid":b=new DISQUS.ui.OpenIDLoginBox;break;case "google":b=new DISQUS.ui.GoogleLoginBox;break;case "facebook":b=DISQUS.FB.publisherKeySupported()?new DISQUS.ui.PublisherFacebookLoginBox:new DISQUS.ui.DefaultFacebookLoginBox;
break;case "sso":b=new DISQUS.ui.SSOLoginBox;break;case "postas":b=new DISQUS.ui.LoginBox(d,{title:"Before we post this, who are you?",guestTab:!0});break;default:b=new DISQUS.ui.LoginBox(d)}b.onClose=function(){if(DISQUS.jsonData.request.is_authenticated)c();else if(typeof d.onFailure=="function")d.onFailure()};b.open()}}}}();
(function(){var c={Default:null,Facebook:null,SSO:null,Reply:{},Auth:{},Edit:{},Twitter:{},Upload:{}},b,d,a={create:function(a,b,d){var h=DISQUS.net.rpc({remote:DISQUS.jsonData.urls.channels.tweetbox,container:a,onReady:function(){h.isReady=!0;b&&b()}},{local:{onTweet:function(){d&&d()}},remote:{setContent:{}}});return c.Twitter=h},recover:function(){return c.Twitter}};DISQUS.lang.extend(DISQUS.comm,{Default:{create:function(a){if(c.Default!==null)return c.Default;var b;b=DISQUS.net.rpc({remote:DISQUS.settings.debug?
DISQUS.jsonData.urls.channels.def:DISQUS.settings.media_url+"/build/system/def.html#",onReady:function(){b.isReady=!0;a&&a()}},{local:{},remote:{api:{},echo:{},enable:{},flushLog:{},addMeta:{},log:{},setApiKey:{}}});return c.Default=b},recover:function(){return c.Default}},Reply:{create:function(){var a=Array.prototype.slice.call(arguments),e=a.length,i=a[e-1],h=arguments[0],m=Object.prototype.toString.call(i)=="[object Function]"?i:null,j=e>0&&a[1]!=m?a[1]:0,j=j||null,a={},e=!1;if((!DISQUS.browser.ie||
!DISQUS.browser.quirks)&&!DISQUS.browser.ie6&&!DISQUS.browser.ie7&&DISQUS.dtpl.actions.registered("comments.reply.onResize",!0))a.scrolling="no",e=!0;if(typeof b=="undefined")b=DISQUS.jsonData,d=DISQUS.nodes.getBasicStyles();i={f:b.forum.url,t:b.thread.slug,ff:d.fontFamily,d:d.direction,p:DISQUS.config.def_text,upload_media:DISQUS.jsonData.context.switches.upload_media,mentions:DISQUS.jsonData.context.switches.mentions&&DISQUS.jsonData.forum.mentions_enabled};DISQUS.config.absorbStyles&&DISQUS.extend(i,
{fc:d.fontColor,bg:d.backgroundColor});i=b.urls.channels.reply+"#"+DISQUS.serializeArgs(i);if(DISQUS.browser.ie&&window.postMessage==null){var k=!1;if(typeof window.ActiveXObject!="undefined")try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(l){var g=l.GetVariable("$version");g&&(g=g.split(" ")[1].split(","),parseInt(g[0],10)==10&&(k=!0))}}catch(r){}if(!k&&!DISQUS.nodes.get("#dsq-old-flash-notice"))l=DISQUS.nodes.get("#disqus_thread"),g=document.createElement("div"),g.id="dsq-old-flash-notice",
g.className="dsq-notice",g.innerHTML=DISQUS.renderBlock("oldFlashMessage"),l.insertBefore(g,l.firstChild)}var u=DISQUS.net.rpc({remote:i,container:h,props:a,onReady:function(){var a=DISQUS.nodes.get(".dsq-iframe-loading",h);a.length&&h.removeChild(a[0]);a=b.posts[j]||{};u.setState(a.id||null,a.depth===void 0?null:a.depth,DISQUS.jsonData.forum.id,DISQUS.jsonData.thread.id);u.setData({users:DISQUS.jsonData.users,browser:DISQUS.browser,media_url:DISQUS.jsonData.media_url});u.isReady=!0;m&&m();if(DISQUS.browser.ie&&
DISQUS.browser.quirks&&this.container)a=DISQUS.nodes.get("iframe",h)[0],a.style.width=parseInt(a.parentNode.offsetWidth,10)+"px"},appendElement:!0},{local:{cookieFailure:function(){DISQUS.dtpl.actions.fire("cookies.onFailure")},resizeFrame:function(a,b){DISQUS.dtpl.actions.fire("comments.reply.onResize",b,a)},onFocus:function(){DISQUS.dtpl.actions.fire("comments.reply.onFocus",j)},onBlur:function(){DISQUS.dtpl.actions.fire("comments.reply.onBlur",j)},onUploadAdd:function(a){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload.onResponse",
a,j)},onUploadRemove:function(a){DISQUS.dtpl.actions.fire("__.comments.reply.media.remove.onResponse",a,j)},onSuggest:function(a,b){DISQUS.dtpl.actions.fire("comments.reply.mentions.suggest",a,b||void 0)},onSuggestMove:function(a,b){DISQUS.dtpl.actions.fire("comments.reply.mentions.move",a,b||void 0)},onSuggestSelect:function(a){DISQUS.dtpl.actions.fire("comments.reply.mentions.selectActive",a||void 0)},onSuggestClear:function(a){DISQUS.dtpl.actions.fire("comments.reply.mentions.clear",a||void 0)}},
remote:{show:{},post:{},postAsGuest:{},validate:{},setState:{},focus:{},setupResize:{},setData:{},selectUser:{}}});e&&u.setupResize();return c.Reply[j]=u},recover:function(a){return c.Reply[a||null]},reset:function(){c.Reply={}}},Auth:{create:function(a,e,i){if(typeof b=="undefined")b=DISQUS.jsonData,d=DISQUS.nodes.getBasicStyles();var h={f:b.forum.url,t:b.thread.slug,to_redirect:window.location,cbp:DISQUS.config.callback_params,ff:d.fontFamily,fc:d.fontColor,ac:d.anchorColor};if(DISQUS.config.frame_theme)h.theme=
DISQUS.config.frame_theme;var h=DISQUS.getResourceURL(b.urls.channels.auth,h,!0),m=DISQUS.net.rpc({remote:h,onReady:function(){m.isReady=!0;i&&i()},container:a},{local:{onAuth:function(a){DISQUS.states.loginDisabled?DISQUS.popup.close(null,!0):DISQUS.reload(function(){e(a)})}},remote:{focus:{}}});return c.Auth.def=m},recover:function(){return c.Auth.def}},Edit:{create:function(a,e,i){if(typeof b=="undefined")b=DISQUS.jsonData,d=DISQUS.nodes.getBasicStyles();var h=DISQUS.getResourceURL(b.urls.channels.edit,
{f:b.forum.url,t:b.thread.slug,p:e,ff:d.fontFamily},!0),m=DISQUS.net.rpc({remote:h,container:a,onReady:function(){m.isReady=!0;i&&i()}},{local:{},remote:{save:{},focus:{}}});c.Edit[e]=m;if(a=DISQUS.nodes.get("#dsq-edit-textarea-"+e))if(a.style.display="none",e=DISQUS.nodes.get("#dsq-edit-iframe-"+e))e.style.display="block",a.parentNode.appendChild(e);return m},recover:function(a){return c.Edit[a]}},Twitter:a,Facebook:{create:function(a,b){var d=DISQUS.jsonData.urls.channels.facebook;d+="#"+DISQUS.serializeArgs({f:DISQUS.jsonData.forum.url});
var h=DISQUS.net.rpc({remote:d,container:a,props:{scrolling:"no"},onReady:function(){h.isReady=!0;if(b.onReady)b.onReady()}},{local:{onSuccess:function(){if(b.onSuccess)b.onSuccess()},onBusy:function(){if(b.onBusy)b.onBusy()},onFailure:function(){if(b.onFailure)b.onFailure()}},remote:{authenticatePublisherSession:{},authenticatePublicSessionData:{},init:{},streamPublish:{}}});return c.Facebook=h},recover:function(){return c.Facebook}},SSO:{create:function(a,b){var d=DISQUS.net.rpc({remote:DISQUS.jsonData.urls.channels.sso,
onReady:function(){d.isReady=!0;a!==void 0&&a()}},{local:{onSuccess:function(){b!==void 0&&b()}},remote:{authenticate:{}}});return c.SSO=d},recover:function(){return c.SSO}},reset:function(){function a(b){b&&b.destroy()}DISQUS.each(c,function(b){b!==null&&(b.origin&&b.destroy?a(b):DISQUS.each(b,a))});b=d=void 0},Upload:{create:function(a,e){if(a){DISQUS.jsonData.request.display_sharing_options&&DISQUS.nodes.addClass(a,"dsq-attach-media-border");var e=e||null,d=DISQUS.jsonData.urls.channels.upload;
d+="#"+DISQUS.serializeArgs({f:b.forum.url,t:b.thread.slug});var h=new DISQUS.net.rpc({remote:d,container:a,props:{scrolling:"no",allowTransparency:"true"},onReady:function(){h.setupUpload(e||"",DISQUS.jsonData.forum.id,DISQUS.jsonData.thread.id);h.isReady=!0}},{local:{onUploadStart:function(){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload",e)},onUpload:function(a){DISQUS.dtpl.actions.fire("__.comments.reply.media.upload.onResponse",a,e)}},remote:{setupUpload:{},media:{}}});return c.Upload[e]=
h}},recover:function(a){return c.Upload[a||null]}}});DISQUS.TweetFrame=function(b,c){var d=a.create(b,c.onReady,c.onSuccess);this.init=function(){};this.setContent=function(a){d.setContent(a)}}})();DISQUS.modules.api=!0;DISQUS.sso=function(){return{auth:function(c){var b=DISQUS.comm.SSO.create(function(){b.authenticate(c)},function(){if(c.onSuccess)c.onSuccess()})}}}();DISQUS.modules.sso=!0;
DISQUS.ui=function(){var c={ContentBase:function(b,c){this.opts=c||{};this.container=DISQUS.nodes.get("#"+b)}};c.ContentBase.prototype={show:function(){DISQUS.nodes.show(this.container,!0);var b=DISQUS.nodes.get("input",this.container);b.length&&!this.opts.noAutoFocus&&b[0].focus()},hide:function(){DISQUS.nodes.hide(this.container,!0)}};c.GuestLoginContent=function(b,d,a){var f=b?"-"+b:"";c.ContentBase.call(this,"dsq-login-guest"+f,a);DISQUS.events.add(DISQUS.nodes.get("#dsq-field-email"+f),"keyup",
function(a){var b=(a.target||a.srcElement).value,a="";if(b){for(var b=b.split("@")[0].split("."),c=0;c<b.length;c++)a+=b[c].charAt(0).toUpperCase()+b[c].slice(1)+" ";a=DISQUS.lang.trim(a)}else a=void 0;if(a)DISQUS.nodes.get("#dsq-field-name"+f).value=a});var e=DISQUS.nodes.get("a",DISQUS.nodes.get(".dsq-login-add-url")[0])[0];e&&DISQUS.events.add(e,"click",function(a){DISQUS.nodes.hide(e.parentNode.parentNode,!0);DISQUS.nodes.show(DISQUS.nodes.get("#dsq-optional-field-website"),!0);a.preventDefault()});
a=DISQUS.nodes.get("#dsq-submit-guest"+f);DISQUS.events.add(a,"click",function(){DISQUS.dtpl.validators.guestFields(b)&&d(this)})};DISQUS.extend(c.GuestLoginContent.prototype,c.ContentBase.prototype);c.DisqusLoginContent=function(b,d,a){var f=this;b?parseInt(b,10)&&(b="dsq-login-disqus-"+b):b="dsq-login-disqus";c.ContentBase.call(f,b,a);f.iframeReady=!1;f.focusOnReady=!1;var e=DISQUS.comm.Auth.create(f.container,d,function(){f.iframeReady=!0;f.focusOnReady&&e.focus()})};DISQUS.extend(c.DisqusLoginContent.prototype,
c.ContentBase.prototype,{show:function(){c.ContentBase.prototype.show.call(this);this.iframeReady?this.opts.noAutoFocus||DISQUS.comm.Auth.recover().focus():this.focusOnReady=!0}});c.DefaultFacebookLoginContent=function(b,d){var a=this,f=DISQUS.nodes.get,e=DISQUS.nodes.hide,i=DISQUS.nodes.show;c.ContentBase.call(this,d||"dsq-login-facebook-content");var h=DISQUS.nodes.get("#dsq-login-facebook-frame");a.rpc=DISQUS.comm.Facebook.create(h,{onReady:function(){a.rpc.init()},onBusy:function(){e(f(".dsq-connect-msg",
a.container)[0],!0);i(f(".dsq-remote-authentication",a.container)[0],!0)},onFailure:function(){i(f(".dsq-connect-msg",a.container)[0],!0);e(f(".dsq-remote-authentication",a.container)[0],!0)},onSuccess:function(){DISQUS.reload(function(){b.close()})}})};DISQUS.extend(c.DefaultFacebookLoginContent.prototype,c.ContentBase.prototype);c.ExternalLoginContent=function(b,d){c.ContentBase.call(this,"dsq-login-"+d);var a=this,f=DISQUS.nodes.get(".dsq-external-launcher",this.container)[0];DISQUS.events.add(f,
"click",function(){DISQUS.nodes.hide(DISQUS.nodes.get(".dsq-connect-msg",a.container)[0],!0);DISQUS.nodes.show(DISQUS.nodes.get(".dsq-remote-authentication",a.container)[0],!0);DISQUS.comm.ensureLoggedIn(function(){b.close()},d,{onFailure:function(){DISQUS.nodes.hide(DISQUS.nodes.get(".dsq-remote-authentication",a.container)[0],!0);DISQUS.nodes.show(DISQUS.nodes.get(".dsq-connect-msg",a.container)[0],!0)}})})};DISQUS.extend(c.ExternalLoginContent.prototype,c.ContentBase.prototype);(function(){var b=
c.ExternalLoginContent;c.YahooLoginContent=function(c){b.call(this,c,"yahoo")};DISQUS.extend(c.YahooLoginContent.prototype,b.prototype);c.TwitterLoginContent=function(c){b.call(this,c,"twitter")};DISQUS.extend(c.TwitterLoginContent.prototype,b.prototype);c.PublisherFacebookLoginContent=function(c){b.call(this,c,"facebook")};DISQUS.extend(c.PublisherFacebookLoginContent.prototype,b.prototype);c.GoogleLoginContent=function(c){b.call(this,c,"google")};DISQUS.extend(c.GoogleLoginContent.prototype,b.prototype)})();
c.OpenIdLoginContent=function(b){c.ContentBase.call(this,"dsq-login-openid");var d=DISQUS.nodes.get("#dsq-openid-submit-button");DISQUS.events.add(d,"click",function(){var a,c,e=DISQUS.jsonData.urls.openid_connect,d=DISQUS.nodes.get("#dsq-openid-url").value;/^\s*$/.test(d)||(e=DISQUS.getResourceURL(e,{url:d,username:DISQUS.nodes.get("#dsq-openid-username").value}),a=window.open(e,"openidWindow","location=0,status=0,width=800,height=500"),c=setInterval(function(){DISQUS.window.isClosed(a)&&(clearInterval(c),
DISQUS.reload(function(){b.close()}))},500))})};DISQUS.extend(c.OpenIdLoginContent.prototype,c.ContentBase.prototype);c.SSOLoginContent=function(b){c.ExternalLoginContent.call(this,b,"sso")};DISQUS.extend(c.SSOLoginContent.prototype,c.ExternalLoginContent.prototype);c.iFrameContent=function(b,d){c.ContentBase.call(this,b);this.url=d;this.iframe=null};DISQUS.extend(c.iFrameContent.prototype,c.ContentBase.prototype,{show:function(){var b=this;if(!this.iframe)this.iframe=DISQUS.nodes.createIframe(this.url,
{},{style:"display:none !important;",frameBorder:"0",frameSpacing:"0",height:"100%",width:"100%"}),DISQUS.events.add(this.iframe,"load",function(){DISQUS.nodes.hide(b.spinner,!0);DISQUS.nodes.show(b.iframe,!0)}),this.spinner=document.createElement("img"),this.spinner.src=DISQUS.settings.media_url+"/images/dsq-loader.gif",this.container.appendChild(this.spinner),this.container.appendChild(this.iframe);c.ContentBase.prototype.show.call(this)}});c.LoginBoxTab=function(b,c,a){var f=this;f.parent=b;f.tabNode=
DISQUS.nodes.get("#"+c);f.content=a;b=DISQUS.nodes.get("a",f.tabNode)[0];DISQUS.events.add(b,"click",function(a){f.enable();a.preventDefault();return!1})};c.LoginBoxTab.prototype={enable:function(){this.parent.enabledTab&&this.parent.enabledTab.disable();DISQUS.nodes.addClass(this.tabNode,"dsq-active");this.content.show();this.parent.enabledTab=this},disable:function(){DISQUS.nodes.removeClass(this.tabNode,"dsq-active");this.content.hide()}};(function(){var b={},d=0;c.Modal=function(){this.guid=++d;
b[this.guid]=this};DISQUS.extend(c.Modal,{closeAll:function(){DISQUS.lang.forEach(b,function(a){a.close()})},last:function(){return b[d]}});c.Modal.prototype={init:function(){var a=this,b=a.container;b.className="dsq-popup dsq-popup-message "+(a.extra||"");DISQUS.browser.ie6||DISQUS.browser.ie7?DISQUS.events.execOnReady(function(){a._onContentReady()}):a._onContentReady();(b=DISQUS.nodes.get(".dsq-popup-close",b))&&b.length&&DISQUS.events.add(b[0],"mouseup",function(){a.close()});a.mouseUpListener=
function(b){DISQUS.nodes.closest(b.target||b.srcElement,"#"+a.container.id)||a.close()};a.keyUpListener=function(b){DISQUS.nodes.closest(b.target||b.srcElement,"#"+a.container.id)||a.close()};DISQUS.bean.add(document,"mouseup",a.mouseUpListener);DISQUS.bean.add(document,"keyup",a.keyUpListener)},_onContentReady:function(){var a=this.container;DISQUS.nodes.body().appendChild(a);a.style.display="block";this.reposition();if(this.onReady)this.onReady()},open:function(a){c.Modal.closeAll();DISQUS.extend(this,
a||{});var b=this.title||"",e=this.body||"",d=this.container=document.createElement("div");d.id="dsq-popup-message";d.innerHTML=DISQUS.renderBlock("popup",{strict:a.strict,popupHeader:b,popupBody:e,popupClass:"",footer:typeof a.footer!=="undefined"?a.footer:!0});this.init();return d},close:function(){var a=this.container;if(a){if(this.mouseUpListener)DISQUS.bean.remove(document,"mouseup",this.mouseUpListener),this.mouseUpListener=null;if(this.keyUpListener)DISQUS.bean.remove(document,"keyup",this.keyUpListener),
this.keyUpListener=null;var c=DISQUS.nodes.get("#dsq-overlay");c&&DISQUS.nodes.remove(c);try{DISQUS.nodes.remove(a)}catch(e){for(var c=a.getElementsByTagName("IFRAME"),d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d]);a.parentNode.removeChild(a)}this.container=null;if(this.onClose)this.onClose();b[this.guid]=null;delete b[this.guid]}},reposition:function(){var a=this.container;if(!a)return!1;var b=DISQUS.window.getSize(),c=(b[0]-a.offsetWidth)/2,b=(b[1]-a.offsetHeight)/2;DISQUS.browser.ie6&&(b=
DISQUS.window.getScrollPosition()[1]);a.style.left=c+"px";a.style.top=b+"px";return!0}}})();c.IframeModal=function(){c.Modal.call(this)};DISQUS.extend(c.IframeModal.prototype,c.Modal.prototype,{open:function(b){DISQUS.extend(this,b||{});this.body='<div class="dsq-border" style="width:'+b.width+"px; height:"+b.height+'px"><a href="#" class="dsq-modal-close-btn" onclick="DISQUS.popup.close(null, true); return false">Close</a><div class="dsq-popup-raw-container"></div></div>';var c=this.container=document.createElement("div");
c.id="dsq-popup-message";c.innerHTML=this.body;this.extra="dsq-popup-raw";this.init();var a=DISQUS.nodes.createIframe(b.url,{},{width:"100%",height:"100%",scrolling:"no",frameBorder:"0",frameSpacing:"0",style:"visibility:hidden"}),c=DISQUS.nodes.get(".dsq-popup-raw-container",this.container)[0];c.appendChild(a);a.onreadystatechange=a.onload=function(){a.style.visibility="visible"};return c}});c.ProfileModal=function(){c.IframeModal.call(this)};DISQUS.extend(c.ProfileModal.prototype,c.IframeModal.prototype,
{open:function(b){b=b||{};typeof b==="string"&&(b={username:b});var d=DISQUS.config&&DISQUS.config.domain?"http://"+DISQUS.config.domain:DISQUS.settings.disqus_url;d+=(b.anonymous?"/embed/guest/":"/embed/")+b.username;d=DISQUS.getResourceURL(d,{is_moderator:b.isModerator,forum:b.forum});c.IframeModal.prototype.open.call(this,{url:d,width:570,height:525,onClose:b.onClose})}});c.ProfileEditModal=function(){this.tabs={};this.enabledTab=null};DISQUS.extend(c.ProfileEditModal.prototype,c.Modal.prototype,
{open:function(b){var d=this,b=b||{};DISQUS.extend(b,{strict:!0,title:DISQUS.strings.get("Edit your profile"),extra:"dsq-profile-edit-modal",onClose:d.onClose,onReady:function(){d.onContentReady(b.selectedTab)}});DISQUS.request.get((DISQUS.settings.urls||DISQUS.jsonData.urls).unmerged_profiles,{},!0);DISQUS.dtpl.actions.register("profile.getUnmerged.onSuccess",function(a){DISQUS.dtpl.actions.remove("profile.getUnmerged.onSuccess",arguments.callee);d.has_unmerged_users=a;c.Modal.prototype.open.call(d,
DISQUS.extend(b,{body:DISQUS.renderBlock("profileEdit",{has_unmerged_users:a})}))})},onContentReady:function(b){var c=this.tabs,a=DISQUS.ui,f=DISQUS.settings||DISQUS.jsonData.settings,e=DISQUS.config.page?encodeURIComponent(DISQUS.config.page.url):"";if(this.has_unmerged_users)c.merge=new a.LoginBoxTab(this,"dsq-tab-profile-merge",new a.iFrameContent("dsq-profile-merge",f.disqus_url+"/embed/profile/merge?thread_url="+e));c.edit=new a.LoginBoxTab(this,"dsq-tab-profile-edit",new a.iFrameContent("dsq-profile-edit",
f.disqus_url+"/embed/profile/info?thread_url="+e));c.avatar=new a.LoginBoxTab(this,"dsq-tab-profile-avatar",new a.iFrameContent("dsq-profile-avatar",f.disqus_url+"/embed/profile/avatar?thread_url="+e));c.services=new a.LoginBoxTab(this,"dsq-tab-profile-services",new a.iFrameContent("dsq-profile-services",f.disqus_url+"/embed/profile/connections?thread_url="+e));c.notifications=new a.LoginBoxTab(this,"dsq-tab-profile-notifications",new a.iFrameContent("dsq-profile-notifications",f.disqus_url+"/embed/account/notifications?thread_url="+
e));c.account=new a.LoginBoxTab(this,"dsq-tab-profile-account",new a.iFrameContent("dsq-profile-account",f.disqus_url+"/embed/account?thread_url="+e));c.apps=new a.LoginBoxTab(this,"dsq-tab-profile-apps",new a.iFrameContent("dsq-profile-apps",f.disqus_url+"/embed/account/apps/"));b&&c[b]?c[b].enable():(c.merge||c.edit).enable()}});c.ForumCommunityModal=function(){c.IframeModal.call(this)};DISQUS.extend(c.ForumCommunityModal.prototype,c.IframeModal.prototype,{open:function(b){b=b||DISQUS.jsonData.urls.community;
c.IframeModal.prototype.open.call(this,{url:b,width:700,height:525})}});c.applyTooltips=function(b){typeof b==="undefined"&&(b=DISQUS.nodes.get("#disqus_thread"));b=DISQUS.nodes.get(".dsq-tt",b);DISQUS.lang.forEach(b,function(b){new DISQUS.Tooltip(b,{gravity:"s",trigger:"hover",opacity:0.96,html:!0,contentId:b.getAttribute("data-dsq-content-id")})})};c.truncateComments=function(b){var b=DISQUS.nodes.get(".dsq-comment-message",b),c=DISQUS.jsonData.forum.comment_max_words;DISQUS.lang.forEach(b,function(a){(a=
a.id.match(/\d+$/))&&a.length&&c>0&&DISQUS.dtpl.actions.fire("comments.text.collapse",a[0])})};c.LoginBox=function(b,c){this.events=b;this.tabs={};this.tabsArray=[];this.enabledTab=null;c=c||{};this.title=DISQUS.strings.get(c.title||"Login or Register");this.guestTab=c.guestTab||!1};DISQUS.extend(c.LoginBox.prototype,c.Modal.prototype,{open:function(b){var d=this,b=b||{};DISQUS.extend(b,{strict:!0,title:d.title,body:DISQUS.renderBlock("loginPopup",{guestTab:d.guestTab}),extra:"dsq-login-box",onClose:d.onClose,
onReady:function(){d.onContentReady(b.selectedTab)}});c.Modal.prototype.open.call(d,b)},onContentReady:function(){var b=this,c=DISQUS.ui;DISQUS.jsonData.forum.allow_anon_post&&b.guestTab&&b.add("guest",new c.LoginBoxTab(this,"dsq-login-tab-guest",new c.GuestLoginContent(null,function(){b.events.onGuest();b.close()})));var a;if(DISQUS.config.sso&&(b.add("sso",new c.LoginBoxTab(this,"dsq-login-tab-sso",new c.SSOLoginContent(this))),DISQUS.config.sso.icon))a=DISQUS.nodes.get("span",DISQUS.nodes.get("#dsq-login-tab-sso"))[0],
a.style.cssText="background: url("+DISQUS.config.sso.icon+") !important;";DISQUS.jsonData.forum.disqus_auth_disabled||b.add("disqus",new c.LoginBoxTab(this,"dsq-login-tab-disqus",DISQUS.states.useLoginWindow?new c.ExternalLoginContent(this,"disqus"):new c.DisqusLoginContent(null,function(a){a.newUser&&DISQUS.dtpl.actions.fire("user.newUser.onSuccess");b.close()})));a=null;(a=DISQUS.FB.publisherKeySupported()?new c.PublisherFacebookLoginContent(this):new c.DefaultFacebookLoginContent(this,"dsq-login-facebook"))&&
b.add("facebook",new c.LoginBoxTab(this,"dsq-login-tab-facebook",a));b.add("google",new c.LoginBoxTab(this,"dsq-login-tab-google",new c.GoogleLoginContent(this)));b.add("twitter",new c.LoginBoxTab(this,"dsq-login-tab-twitter",new c.TwitterLoginContent(this)));b.add("yahoo",new c.LoginBoxTab(this,"dsq-login-tab-yahoo",new c.YahooLoginContent(this)));b.add("openid",new c.LoginBoxTab(this,"dsq-login-tab-openid",new c.OpenIdLoginContent(this)));this.tabsArray[0].enable()},add:function(b,c){this.tabs[b]=
c;this.tabsArray.push(c)}});c.DisqusLoginBox=function(){};DISQUS.extend(c.DisqusLoginBox.prototype,c.Modal.prototype,{open:function(b){var d=this,b=b||{};if(DISQUS.states.useLoginWindow){b=DISQUS.nodes.getIframeDefaults();b.is_popup=!0;var a=window.open(DISQUS.getResourceURL(DISQUS.jsonData.urls.channels.auth,b,!0),"_blank","height=420,width=400");window.focus&&a.focus();var f=setInterval(function(){DISQUS.window.isClosed(a)&&(clearInterval(f),DISQUS.reload(function(){d.onClose()}))},500)}else DISQUS.extend(b,
{strict:!1,title:DISQUS.strings.get("Login or Register"),body:'<div id="dsq-login-iframe-wrapper" style="height:320px;"></div>',extra:"dsq-popup-login",onClose:d.onClose,onReady:function(){d.content=new c.DisqusLoginContent("dsq-login-iframe-wrapper",function(a){a.newUser&&DISQUS.dtpl.actions.fire("user.newUser.onSuccess");d.close()});d.content.show()}}),c.Modal.prototype.open.call(d,b)}});c.NewWindowModal=function(b){this.name="disqus_"+DISQUS.getGuid();DISQUS.extend(this,b||{})};c.NewWindowModal.prototype=
{open:function(){var b=this;b.window=window.open(b.url,b.name,"location=0,status=0,width="+(b.width||800)+",height="+(b.height||400));b.window&&DISQUS.defer(function(){return DISQUS.window.isClosed(b.window)},function(){b.reload()})},reload:function(){var b=this;DISQUS.reload(function(){b.onClose()})},close:function(){this.window&&window.close()}};c.TwitterLoginBox=function(){c.NewWindowModal.call(this,{url:DISQUS.jsonData.urls.twitter_connect,width:800,height:698})};DISQUS.extend(c.TwitterLoginBox.prototype,
c.NewWindowModal.prototype);c.GoogleLoginBox=function(){c.NewWindowModal.call(this,{url:DISQUS.jsonData.urls.googleConnect,width:800,height:400})};DISQUS.extend(c.GoogleLoginBox.prototype,c.NewWindowModal.prototype);c.YahooLoginBox=function(){c.NewWindowModal.call(this,{url:DISQUS.jsonData.urls.yahoo_connect,width:800,height:400})};DISQUS.extend(c.YahooLoginBox.prototype,c.NewWindowModal.prototype);c.SSOLoginBox=function(){var b=DISQUS.config.sso;c.NewWindowModal.call(this,{url:b.url,width:b.width||
800,height:b.height||400})};DISQUS.extend(c.SSOLoginBox.prototype,c.NewWindowModal.prototype,{reload:function(){window.location.reload()}});c.OpenIDLoginBox=function(){};DISQUS.extend(c.OpenIDLoginBox.prototype,c.Modal.prototype,{open:function(){var b=this,d={title:DISQUS.strings.get("Sign in with OpenID"),body:DISQUS.renderBlock("openidForm"),onClose:b.onClose,onReady:function(){b.content=new c.OpenIdLoginContent(b)}};c.Modal.prototype.open.call(b,d)}});c.DefaultFacebookLoginBox=function(){};DISQUS.extend(c.DefaultFacebookLoginBox.prototype,
c.Modal.prototype,{open:function(){var b=this;c.Modal.prototype.open.call(this,{title:DISQUS.strings.get("Sign in using Facebook"),body:DISQUS.renderBlock("facebookLoginForm",{title:!1}),onClose:b.onClose,onReady:function(){b.content=new DISQUS.ui.DefaultFacebookLoginContent(b)}})}});c.PublisherFacebookLoginBox=function(){};c.PublisherFacebookLoginBox.prototype.open=function(){var b=this;DISQUS.FB.init(function(){DISQUS.FB.login(function(){DISQUS.FB.authenticateViaPublisherKey(function(){DISQUS.reload(function(){if(b.onClose)b.onClose()})})},
function(){if(b.onClose)b.onClose()})})};c.PublisherFacebookLoginBox.prototype.show=c.PublisherFacebookLoginBox.prototype.open;c.FacebookLoginBox=c.PublisherFacebookLoginBox;DISQUS.api=DISQUS.api||{};DISQUS.api.FacebookLoginBox=c.FacebookLoginBox;return c}();DISQUS.modules.ui=!0;var DISQUS;if(typeof DISQUS=="undefined")throw"Can't find DISQUS";
DISQUS.FB=function(){function c(){if(!DISQUS.nodes.get("#fb-root")){var a=document.createElement("div");a.id="fb-root";DISQUS.nodes.get("#disqus_thread").appendChild(a)}}var b={},d=[],a=null,f=function(){this.session=null};f.prototype={init:function(a,b){FB.init({apiKey:a,channelUrl:b,status:!0,cookie:!0})},login:function(a,b){var c=this;FB.login(function(e){e.session?(c.session=e.session,a()):(c.session=null,b())})},authenticateViaPublisherKey:function(a){FB.login(function(b){var c=DISQUS.comm.Facebook.create(null,
{onReady:function(){c.authenticatePublisherSession(b.session)},onSuccess:a})})},streamPublish:function(a,b,c){FB.ui({method:"stream.publish",message:a,attachment:b},function(a,b){typeof c==="function"&&c(a,b)})},streamShare:function(a,b,c){FB.ui({method:"stream.share",u:b.href},function(a){typeof c==="function"&&c(a.post_id)})}};var e=function(a){this.rpc=a};e.prototype={init:function(){this.rpc.init()},streamPublish:function(a,b,c){this.rpc.streamPublish(a,b,c)},streamShare:function(a,b,c){this.rpc.streamPublish(a,
b,c)},authenticateViaPublisherKey:function(){console.log("Unsupported.")}};b.init=function(){b.init=function(b){typeof b==="function"&&d.push(b);if(a)for(;d.length;)d.shift()()};b.init();if(b.publisherKeySupported())c(),window.FB||DISQUS.require("http://connect.facebook.net/en_US/all.js"),DISQUS.addJob(function(){return window.FB&&FB.init},function(){a=new f;a.init(DISQUS.config.facebook_key||DISQUS.jsonData.context.forum_facebook_key,window.facebookXdReceiverPath||null);b.init()});else var i=DISQUS.comm.Facebook.create(null,
{onReady:function(){a=new e(i);a.init();b.init()}})};b.publisherKeySupported=function(){return(DISQUS.config.facebook_key||DISQUS.jsonData.context.forum_facebook_key)&&!(window.FB&&FB.dynData)};DISQUS.each(["login","streamShare","streamPublish","authenticateViaPublisherKey"],function(c){b[c]=function(){a[c].apply(a,arguments)}});return b}();
DISQUS.sandbox=function(){function c(){var a=DISQUS.jsonData,b={DISQUS:null,browser:DISQUS.browser,config:DISQUS.config,urls:{},lang:{forEach:DISQUS.lang.forEach,interpolate:DISQUS.strings.interpolate,contains:function(a,b){for(var c=0,e=a.length;c<e;c++)if(a[c]==b)return!0;return!1},pluralize:DISQUS.strings.pluralize,capitalize:DISQUS.strings.capitalize,extend:DISQUS.lang.extend},states:DISQUS.states,trans:DISQUS.strings.get,settings:DISQUS.settings};if(!a)return b;DISQUS.lang.extend(b,{context:a.context,
comments:[],highlighted:[],comment:null,forum:a.forum,integration:a.integration,loginOptions:[{name:"disqus",button_url:a.settings.media_url+"/images/themes/narcissus/login-disqus.gif",enabled:!a.forum.disqus_auth_disabled,action:"auth.disqus"},{name:"facebook",button_url:a.settings.media_url+"/images/themes/narcissus/login-facebook.gif",enabled:a.context.use_fb_connect,action:"auth.facebook"},{name:"twitter",button_url:a.settings.media_url+"/images/themes/narcissus/login-twitter.gif",enabled:a.context.use_twitter_signin,
action:"auth.twitter"},{name:"google",button_url:a.settings.media_url+"/images/themes/narcissus/login-twitter.gif",enabled:a.context.use_google_signin,action:"auth.google"},{name:"openid",button_url:a.settings.media_url+"/images/themes/narcissus/login-openid.gif",enabled:a.context.use_openid,action:"auth.openid"},{name:"yahoo",button_url:a.settings.media_url+"/images/themes/narcissus/login-yahoo.png",enabled:a.context.use_yahoo,action:"auth.yahoo"}],ranks:a.ranks,request:a.request,reactions:a.reactions,
session:a.session,sorting:[{value:"hot",label:DISQUS.strings.get("Popular now"),selected:a.request.sort==4},{value:"best",label:DISQUS.strings.get("Best rating"),selected:a.request.sort==3},{value:"newest",label:DISQUS.strings.get("Newest first"),selected:a.request.sort==2},{value:"oldest",label:DISQUS.strings.get("Oldest first"),selected:a.request.sort==1}],thread:a.thread,urls:a.urls});DISQUS.config.sso&&b.loginOptions.push({name:DISQUS.config.sso.name,button_url:DISQUS.config.sso.button,action:"auth.sso",
enabled:!0,userDefined:!0});DISQUS.lang.extend(b.settings,a.settings);if(DISQUS.db.available()){var c,d;if((d=DISQUS.db.get("thread_votes"))&&d[a.thread.id])c=d[a.thread.id],c.timestamp>=a.request.timestamp?(d=c.value-b.thread.user_vote,b.thread.likes+=d<0?0:d,b.thread.user_vote=c.value):(delete d[a.thread.id],DISQUS.db.set("thread_votes",d))}b.context.realtime_enabled=a.realtime_enabled;b.context.has_more_reactions=a.has_more_reactions;DISQUS.config.trackback_url&&DISQUS.config.trackbacks?(b.context.trackback_url=
DISQUS.config.trackback_url,b.context.trackbacks=DISQUS.config.trackbacks):(b.context.trackback_url=a.settings.disqus_url+"/forums/"+a.forum.url+"/"+a.thread.slug+"/trackback/",b.context.trackbacks=a.trackbacks);b.context.sharing=[];DISQUS.lang.forEach(b.request.sharing,function(a,c){if(!(b.request.is_remote&&b.request.remote_domain!=c))a.key=c,a.checked=a.auto===!0||b.request.remote_domain==c,b.context.sharing.push(a)});b.request.display_sharing_options=a.request.is_authenticated;if(a.request.is_remote&&
!a.request.sharing.hasOwnProperty(a.request.remote_domain))b.request.display_sharing_options=!1;if(b.reactions&&b.reactions.length>0){for(e=0;e<b.reactions.length;e++)c=b.reactions[e].get_service_name,b.reactions[e].service_icon=c=="trackback"||c=="pingback"?"rss":c.replace(" ","");if(b.reactions.retweets&&b.reactions.retweets.length===0)b.reactions.retweets=null}else b.reactions=null;DISQUS.lang.forEach(a.mediaembed,function(b){b.thumbnailURL=a.settings.media_url+"/images/mediaembed-thumbnail.png";
switch(b.type){case 1:case 5:if(b.metadata.thumbnail)b.thumbnailURL=a.settings.media_url.replace(/\/$/,"")+"/uploads/"+b.metadata.thumbnail.replace(/^\//,"");break;case 2:case 4:if(b.metadata.thumbnail)b.thumbnailURL=b.metadata.thumbnail}if(!a.posts[b.post].media)a.posts[b.post].media=[];a.posts[b.post].media.push(b)});var f={avatar:DISQUS.jsonData.forum.default_avatar_url,display_name:"Guest"};DISQUS.each(a.ordered_highlighted,function(c){var e=a.highlighted[c];e.author=a.users[e.user_key]||f;e.id=
c;e.stripped=function(a){var b=e.message.replace(/<.*?>/g,"");if(b.length>a)return b.substring(0,a);return null};b.highlighted.push(e)});var l=0;DISQUS.lang.forEach(a.ordered_posts,function(c){var e=a.posts[c];e.isFirst=!1;e.isLast=!1;e.id=c;e.author=a.users[e.user_key]||f;e.even=l%2===0;if(e.parent_post_id&&a.posts[e.parent_post_id])e.parent=a.posts[e.parent_post_id],e.parent.author=a.users[e.parent.user_key]||f;e.stripped=function(a){var b=e.message.replace(/<.*?>/g,"");if(b.length>a)return b.substring(0,
a);return null};if(l===0)e.isFirst=!0;else if(c=b.comments[l-1],c.depth<e.depth)e.isFirst=!0;else if(c.depth>e.depth)c.isLast=!0;b.comments.push(e);l++});if(l>0)b.comments[l-1].isLast=!0;b.thread.page_numbers=[];for(e=b.request.page-2;e<b.request.page+2;e++)e>0&&e<=b.thread.num_pages&&b.thread.page_numbers.push(e);b.thread.page_numbers[0]==2&&b.thread.page_numbers.unshift(1);b.thread.page_numbers[b.thread.page_numbers.length-1]==b.thread.num_pages-1&&b.thread.page_numbers.push(b.thread.num_pages);
return b}function b(){var a={};DISQUS.lang.forEach(f,function(b){typeof b!="undefined"&&DISQUS.lang.extend(a,b)});return a}var d={},a,f={},e;d.wrap=function(e,d,m){typeof a=="undefined"&&(a=c());m&&(f[e]=m);m=b();d=d(a,m);f[e]&&(f[e]=void 0);return d};d.invalidateGlobals=function(){a=void 0};return d}();DISQUS.modules.sandbox=!0;
DISQUS.cookies=function(){return{create:function(c,b){document.cookie=c+"="+b+"; path=/"},read:function(c){c+="=";for(var b,d=document.cookie.split(";"),a=0;a<d.length;a++){for(b=d[a];b.charAt(0)==" ";)b=b.substring(1,b.length);if(b.indexOf(c)===0)return b.substring(c.length,b.length)}return null},erase:function(c){var b=new Date;b.setTime(b.getTime()+-864E5);document.cookie=c+"=;expires="+b.toGMTString()+"; path=/"}}}();
(function(){function c(){if(b.ready)return!0;if(document&&document.getElementsByTagName&&document.getElementById&&document.body){if(b.timer)clearInterval(b.timer),b.timer=null;for(var c=0;c<b.queue.length;c++)b.queue[c]();b.queue=[];return b.ready=!0}return!1}var b={ready:!1,timer:null,queue:[]};DISQUS.extend(DISQUS.events,{execOnReady:function(d){c()?d():b.timer?b.queue.push(d):(DISQUS.events.add(window,"load",c),b.queue.push(d),b.timer=setInterval(c,13))}})})();
DISQUS.nodes=function(){function c(a){return RegExp("(^|\\s)"+a+"(\\s|$)")}var b={},d;b.container=document.getElementById("dsq-content");b.head=document.getElementsByTagName("head")[0]||document.getElementById("disqus_thread");b.query=DISQUS.qwery;b.get=function(a,b){var c=DISQUS.qwery(a,b);return a.slice(0,1)=="#"&&a.indexOf(" ")===-1?c[0]:c};b.siblings=function(a){for(var b=[];a;a=a.nextSibling)a.nodeType===1&&b.push(a);return b};b.children=function(a){return b.siblings(a.firstChild)};b.is=function(a,
b){return a.nodeType!==1?!1:b.slice(0,1)=="#"?a.id==b.slice(1):b.indexOf(".")!=-1?c(b.slice(1)).test(a.className):a.tagName.toLowerCase().indexOf(b)!=-1};(function(){var a=null;b.body=function(){if(a)return a;var b=document.getElementsByTagName("body");b&&b.length&&(a=b[0]);return a}})();b.closest=function(a,c){for(var d=a.parentNode;d;){if(b.is(d,c))return d;d=d.parentNode}return null};b.createIframe=function(a,c,d){var f,j,k;k=b.getIframeDefaults();c&&DISQUS.lang.forEach(c,function(a,b){k[b]=a});
j={marginwidth:0,marginheight:0,hspace:0,vspace:0,frameborder:0,allowtransparency:"true",src:DISQUS.getResourceURL(a,k,!0)};d&&DISQUS.lang.forEach(d,function(a,b){j[b]=a});f=document.createElement("iframe");DISQUS.lang.forEach(j,function(a,b){f.setAttribute(b,a)});return f};b.getIframeDefaults=function(){var a=b.getBasicStyles(),a={to_redirect:window.location,ff:a.fontFamily,fc:a.fontColor,ac:a.anchorColor};DISQUS.jsonData&&DISQUS.lang.extend(a,{f:DISQUS.jsonData.forum.url,t:DISQUS.jsonData.thread.slug,
cbp:DISQUS.config.callback_params,default_text:DISQUS.config.def_text});return a};b.getPosition=function(a){var b=0,c=0;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a)}return[b,c]};b.getStyle=function(a,c,d){var f;if(a===document)return"";window.getComputedStyle?f=document.defaultView.getComputedStyle(a,null).getPropertyValue(c):a.currentStyle&&(f=a.currentStyle[c]?a.currentStyle[c]:a.currentStyle[d]);return f=="transparent"||f===""||f=="rgba(0, 0, 0, 0)"?b.getStyle(a.parentNode,
c,d):f||""};b.getBasicStyles=function(){var a;a=b.get("body")[0];if(d)return d;d={backgroundColor:null,fontColor:null,fontFamily:null,anchorColor:null,direction:null};a=b.get("#"+DISQUS.config.container_id)||a;d.fontColor=b.getStyle(a,"color");d.backgroundColor=b.getStyle(a,"background-color","backgroundColor");d.fontFamily=b.getStyle(a,"font-family","fontFamily").replace(/['"]/g,"");d.direction=b.getStyle(a,"direction");if(a=b.get("a")[0])d.anchorColor=b.getStyle(a,"color");return d};b.hasClass=
function(a,b){return c(b).test(a.className)};var a=/[\n\t]/g,f=/\s+/;b.addClass=function(a,b){var c=(b||"").split(f);if(a.className){for(var d=" "+a.className+" ",j=a.className,k=0,l=c.length;k<l;k++)d.indexOf(" "+c[k]+" ")<0&&(j+=" "+c[k]);a.className=DISQUS.lang.trim(j)}else a.className=b};b.removeClass=function(b,c){var d=(c||"").split(f);if(c){for(var m=(" "+b.className+" ").replace(a," "),j=0,k=d.length;j<k;j++)m=m.replace(" "+d[j]+" "," ");b.className=DISQUS.lang.trim(m)}else b.className="";
return this};b.toggleClass=function(a,c){b.hasClass(a,c)?b.removeClass(a,c):b.addClass(a,c)};b.remove=function(a){if(a)b.removeChildren(a),typeof a.outerHTML!="undefined"?a.outerHTML="":a.parentNode&&a.parentNode.removeChild(a)};b.removeChildren=function(a){var c,d;if(a){c=a.childNodes;for(var f=c.length-1;f>=0;)d=c[f],d.hasChildNodes()&&b.removeChildren(d),typeof d.outerHTML!="undefined"?d.outerHTML="":a.removeChild(d),f-=1}};b.insertBefore=function(a,b){a.parentNode.insertBefore(b,a)};b.insertAfter=
function(a,b){a.parentNode.insertBefore(b,a.nextSibling)};b.firstChild=function(a){var a=a.childNodes,b;for(b=0;b<a.length;b++)if(a[b].nodeType===1)return a[b];return null};b.toHTML=function(a){var b;b=document.createElement("div");b.appendChild(a);return b.innerHTML};b.hide=function(a,b){b?a.style.cssText="display:none !important":a.style.display="none"};b.show=function(a,b){b?a.style.cssText="display:block !important":a.style.display="block"};b.scrollTo=function(a){typeof a==="string"&&(a=b.get(a));
a&&(a=DISQUS.nodes.getPosition(a),window.scrollTo(0,a[1]))};b.truncateComment=function(a,b,c){for(var d=a.childNodes[0],f=0;d!==null;){if(d.nodeType==3&&(f+=d.nodeValue.replace(/^\s+|\s+$/g,"").split(" ").length,f>b))break;if(d.childNodes.length>0)d=d.childNodes[0];else if(d.nextSibling!==null)d=d.nextSibling;else if(d.parentNode===a)break;else{for(d=d.parentNode;d.parentNode.nextSibling===null&&d!==a;)d=d.parentNode;d=d==a?null:d.nextSibling}}if(f<=b)return!1;var k=d.nodeValue.replace(/^\s+|\s+$/g,
"").split(" "),k=k.slice(0,k.length-(f-b));if(d.nodeType===3)d.nodeValue=k.join(" ")+c;for(;d!==a;){for(;d.nextSibling!==null;)d.nextSibling.parentNode.removeChild(d.nextSibling);d=d.parentNode}return!0};b.slide=function(a,b,c,d){var d=250,f=(new Date).getTime(),k=Math.max(b,c),l=c<b,g=l?Math.max:Math.min;a.style.height=b+"px";a.style.overflow="hidden";a.style.display="block";var r=setInterval(function(){var b=(new Date).getTime()-f,i=b/d;l&&(i=1-i);i=parseInt(k*i,10);i=g(i,c);a.style.height=i+"px";
if(b>=d){if(i<=0)a.style.display="none",a.style.height="";clearInterval(r)}},13)};return b}();
DISQUS.request=function(){return{get:function(c,b,d,a){var f=document.createElement("script");f.src=DISQUS.getResourceURL(c,b,d);f.charset="UTF-8";(a||DISQUS.nodes.body()).appendChild(f);return f},post:function(c,b,d){var a,f,e,i;a=document.createElement("div");e="dsq-temp-iframe"+(new Date).getTime();f=document.createElement("form");f.method="POST";f.action=c;if(!d)f.target=e;try{i=document.createElement('<iframe name="'+e+'">')}catch(h){i=document.createElement("iframe"),i.name=e}i.style.display=
"none";i.id=e;a.appendChild(i);DISQUS.lang.forEach(b,function(a,b){var c=document.createElement("input");c.name=b;c.type="hidden";c.value=a;f.appendChild(c)});DISQUS.nodes.body().appendChild(a);DISQUS.nodes.body().appendChild(f);f.submit()}}}();
DISQUS.popup=function(){return{popModal:function(c,b,d,a,f,e){DISQUS.ui.Modal.closeAll();d=new DISQUS.ui.Modal;c={title:b,body:c,extra:f};DISQUS.lang.extend(c,e||{});d.open(c)},popProfile:function(c,b,d){var a=DISQUS.jsonData.posts[c];if(a){if(a.has_been_anonymized){DISQUS.popup.popModal(DISQUS.strings.get("This message was anonymized by its previous owner"),DISQUS.strings.get("Anonymized"),c);return}else if(a.killed){DISQUS.popup.popModal(DISQUS.strings.get("This comment was removed by a moderator"),
DISQUS.strings.get("Comment Removed"),c);return}b=DISQUS.jsonData.posts[c].user_key}c={username:b,anonymous:!!b.match(/^[0-9a-f]{32}/i),isModerator:d,forum:DISQUS.getShortname()};(new DISQUS.ui.ProfileModal).open(c);return!1},close:function(){DISQUS.ui.Modal.closeAll()},adjustPosition:function(){var c=DISQUS.ui.Modal.last();c&&c.reposition()}}}();DISQUS.extend(DISQUS.window,{anchor:function(c){window.location.hash=c},isClosed:function(c){if(!c)return!0;try{return c.closed||c.closed===void 0}catch(b){return!0}}});
DISQUS.hacks=function(){return{ie:{fixIframes:function(c){var b=DISQUS.nodes.get("#"+DISQUS.config.container_id).getElementsByTagName("iframe");if(c=c?DISQUS.nodes.get("#"+c):DISQUS.nodes.container)for(var d=0;d<b.length;d++)b[d].style.width=c.offsetWidth}}}}();
DISQUS.db=function(){function c(){var b=localStorage.getItem("disqus_embed");return b?DISQUS.json.parse(b):{}}var b={available:function(){try{return!!window.localStorage}catch(b){return!1}}};b.set=function(d,a){if(!b.available())return!1;var f=c();f[d]=a;try{localStorage.setItem("disqus_embed",DISQUS.json.stringify(f))}catch(e){}return!0};b.get=function(d){if(!b.available())return null;return c()[d]};return b}();DISQUS.modules.utils=!0;
(function(c){var b=function(a,d){d=c.lang.extend({},b.defaults,d===void 0?{}:d);this.element=a;this.options=d;this.returnTo=this.content=null;this.enabled=!0;this.init()};b.prototype={init:function(){var a=this,b=this.element,d=this.options;if(d.trigger==="click"){var i,h,m,j;m=function(){a.enter();c.events.remove(b,"click",i);setTimeout(function(){h=c.events.add(document,"click",j)},0)};i=c.events.add(b,"click",m);j=function(d){d=d||window.event;c.nodes.closest(d.target||d.srcElement,".dsq-tooltip-outer")||
(a.hide(),c.events.remove(document,"click",h),i=c.events.add(b,"click",m))}}else d.trigger&&(c.events.add(b,"mouseout",function(){a.leave()}),c.events.add(b,"mouseover",function(){a.enter()}))},show:function(){var a=this.getTitle();if(this.enabled&&(a||this.options.contentId)){var b=this.outer(),d=c.nodes.get(".dsq-tooltip-inner",b)[0],i;this.options.contentId?(i="big",this.content=c.nodes.get("#"+this.options.contentId),this.returnTo=this.content.parentNode,d.appendChild(this.content),this.content.setAttribute("style",
"display:block !important")):(i="small",c.nodes.addClass(b,"dsq-tooltip-small"),d[this.options.html?"innerHTML":typeof d.innerText!=="string"?"textContent":"innerText"]=a);b.className="";c.nodes.addClass(b,"dsq-tooltip-outer");c.nodes.addClass(b,"dsq-tooltip-"+i);b.style.visibility="hidden";b.style.top="0";b.style.left="0";b.style.display="block";document.getElementsByTagName("body")[0].appendChild(b);this.reposition()}},reposition:function(){var a=this.outer(),b=c.nodes.getPosition(this.element),
b={left:b[0],top:b[1],width:this.element.offsetWidth,height:this.element.offsetHeight};a.style.top=b.top-a.offsetHeight+"px";a.style.left=b.left+"px";a.style.backgroundPosition=b.width/2+"px bottom";if(!this.options.fade)a.style.visibility="visible",a.style.opacity=this.options.opacity},hide:function(){if(!this.options.fade)this.content&&(this.content.setAttribute("style","display:none !important"),this.returnTo.appendChild(this.content)),this.outer().style.visibility="hidden"},getTitle:function(){var a,
b=this.element,c=this.options;b.title&&(b.setAttribute("original-title",b.title),b.removeAttribute("title"));typeof c.title=="string"?a=b.getAttribute(c.title=="title"?"original-title":c.title):typeof c.title=="function"&&(a=c.title.call(b));return(a=a&&a.replace(/(^\s*|\s*$)/,""))||c.fallback},outer:function(){if(!this._outer){var a=this._outer=document.createElement("div");a.className="dsq-tooltip-outer";a.style.position="absolute";a.style.zIndex="9999";a.innerHTML='<div class="dsq-tooltip dsq-cleanslate">  <div class="dsq-tooltip-notch"></div>  <div class="dsq-tooltip-inner"></div></div>'}return this._outer},
validate:function(){this.$element[0].parentNode||this.hide()},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},leave:function(){if(this.hoverState!=="out")this.hoverState="out",this.options.delayOut===0?this.hide():setTimeout(function(){this.hoverState=="out"&&this.hide()},this.options.delayOut)},enter:function(){if(this.hoverState!=="in")this.hoverState="in",this.options.delayIn===0?this.show():setTimeout(function(){this.hoverState==
"in"&&this.show()},this.options.delayIn)}};b.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,opacity:0.95,title:"title",trigger:"hover",contentId:null,noclip:!1};var d=function(a,b){c.Tooltip.call(this,a,b)};d.prototype=c.lang.extend({},b.prototype);d.prototype.show=function(){var a=this,b;c.Tooltip.prototype.show.call(this);b=c.events.add(document,"click",function(d){d=d||window.event;c.nodes.closest(d.target||d.srcElement,".dsq-tooltip-outer")||(a.hide(),c.events.remove(document,
"click",b))})};c.Tooltip=b;c.ManualTooltip=d})(DISQUS);DISQUS.modules.tooltip=!0;
(function(c,b,d,a,f,e){function i(a,b){var c=typeof a[b];return c=="function"||!!(c=="object"&&a[b])||c=="unknown"}function h(){h=D;J=!0;for(var a=0;a<M.length;a++)M[a]();M.length=0}function m(a,b){J?a.call(b):M.push(function(){a.call(b)})}function j(){var a=parent;if(I!=="")for(var b=0,c=I.split(".");b<c.length;b++)a=a[c[b]];return a.easyXDM}function k(a){var b=a.match(x),a=b[2],c=b[3],b=b[4]||"";if(a=="http:"&&b==":80"||a=="https:"&&b==":443")b="";return a+"//"+c+b}function l(a){a=a.replace(T,"$1/");
if(!a.match(/^(http||https):\/\//)){var b=a.substring(0,1)==="/"?"":d.pathname;b.substring(b.length-1)!=="/"&&(b=b.substring(0,b.lastIndexOf("/")+1));a=d.protocol+"//"+d.host+b+a}for(;Q.test(a);)a=a.replace(Q,"");return a}function g(a,b){var c="",d=a.indexOf("#");d!==-1&&(c=a.substring(d).replace("#","&"),a=a.substring(0,d));var d=[],f;for(f in b)b.hasOwnProperty(f)&&d.push(f+"="+e(b[f]));return a+(O?"#":a.indexOf("?")==-1?"?":"&")+d.join("&")+c}function r(a){return typeof a==="undefined"}function u(){var a=
{},b={a:[1,2,3]};if(typeof JSON!="undefined"&&typeof JSON.stringify==="function"&&JSON.stringify(b).replace(/\s/g,"")==='{"a":[1,2,3]}')return JSON;if(Object.toJSON&&Object.toJSON(b).replace(/\s/g,"")==='{"a":[1,2,3]}')a.stringify=Object.toJSON;if(typeof String.prototype.evalJSON==="function"&&(b='{"a":[1,2,3]}'.evalJSON(),b.a&&b.a.length===3&&b.a[2]===3))a.parse=function(a){return a.evalJSON()};if(a.stringify&&a.parse)return u=function(){return a},a;return null}function q(a,b,c){var d,e;for(e in b)b.hasOwnProperty(e)&&
(e in a?(d=b[e],typeof d==="object"?q(a[e],d,c):c||(a[e]=b[e])):a[e]=b[e]);return a}function z(a){if(r(P)){var d=b.createElement("iframe");d.name=B+"TEST";q(d.style,{position:"absolute",left:"-2000px",top:"0px"});b.body.appendChild(d);P=d.contentWindow!==c.frames[d.name];b.body.removeChild(d)}P&&!~navigator.userAgent.indexOf("Firefox")?d=b.createElement('<iframe name="'+a.props.name+'"/>'):(d=b.createElement("IFRAME"),d.name=a.props.name);d.id=d.name=a.props.name;delete a.props.name;a.onLoad&&C(d,
"load",a.onLoad);if(typeof a.container=="string")a.container=b.getElementById(a.container);if(!a.container)d.style.position="absolute",d.style.top="-2000px",d.style.left="0px",a.container=b.body;var e=a.props.src;delete a.props.src;q(d,a.props);d.border=d.frameBorder=0;a.container.appendChild(d);d.src=e;a.props.src=e;return d}function H(a){var e=a.protocol,f;a.isHost=a.isHost||r(v.xdm_p);O=a.hash||!1;if(!a.props)a.props={};if(a.isHost){if(a.remote=l(a.remote),a.channel=a.channel||"default"+N++,a.secret=
Math.random().toString(16).substring(2),r(e))if(o.parent==o&&k(d.href)==k(a.remote))e="4";else if(i(c,"postMessage")||i(b,"postMessage"))e="1";else{if(e=i(c,"ActiveXObject"))try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=!0}catch(V){e=!1}e?e="6":navigator.product==="Gecko"&&"frameElement"in c&&navigator.userAgent.indexOf("WebKit")==-1?e="5":a.remoteHelper?(a.remoteHelper=l(a.remoteHelper),e="2"):e="0"}}else{a.channel=v.xdm_c;a.secret=v.xdm_s;a.remote=v.xdm_e;var e=v.xdm_p,s;if(s=a.acl){a:{s=
a.acl;var h=a.remote;typeof s=="string"&&(s=[s]);for(var t,p=s.length;p--;)if(t=s[p],t=RegExp(t.substr(0,1)=="^"?t:"^"+t.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),t.test(h)){s=!0;break a}s=!1}s=!s}if(s)throw Error("Access denied for "+a.remote);}switch(e){case "0":q(a,{interval:100,delay:2E3,useResize:!0,useParent:!1,usePolling:!1},!0);if(a.isHost){if(!a.local){f=d.protocol+"//"+d.host;e=b.body.getElementsByTagName("img");for(h=e.length;h--;)if(s=e[h],s.src.substring(0,f.length)===f){a.local=
s.src;break}if(!a.local)a.local=c}f={xdm_c:a.channel,xdm_p:0};a.local===c?(a.usePolling=!0,a.useParent=!0,a.local=d.protocol+"//"+d.host+d.pathname+d.search,f.xdm_e=a.local,f.xdm_pa=1):f.xdm_e=l(a.local);if(a.container)a.useResize=!1,f.xdm_po=1;a.remote=g(a.remote,f)}else q(a,{channel:v.xdm_c,remote:v.xdm_e,useParent:!r(v.xdm_pa),usePolling:!r(v.xdm_po),useResize:a.useParent?!1:a.useResize});f=[new n.stack.HashTransport(a),new n.stack.ReliableBehavior({}),new n.stack.QueueBehavior({encode:!0,maxLength:4E3-
a.remote.length}),new n.stack.VerifyBehavior({initiate:a.isHost})];break;case "1":f=[new n.stack.PostMessageTransport(a)];break;case "2":f=[new n.stack.NameTransport(a),new n.stack.QueueBehavior,new n.stack.VerifyBehavior({initiate:a.isHost})];break;case "3":f=[new n.stack.NixTransport(a)];break;case "4":f=[new n.stack.SameOriginTransport(a)];break;case "5":f=[new n.stack.FrameElementTransport(a)];break;case "6":if(!a.swf)a.swf="../../tools/easyxdm.swf";f=[new n.stack.FlashTransport(a)]}f.push(new n.stack.QueueBehavior({lazy:a.lazy,
remove:!0}));return f}function E(a){for(var b,c={incoming:function(a,b){this.up.incoming(a,b)},outgoing:function(a,b){this.down.outgoing(a,b)},callback:function(a){this.up.callback(a)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},d=0,e=a.length;d<e;d++){b=a[d];q(b,c,!0);if(d!==0)b.down=a[d-1];if(d!==e-1)b.up=a[d+1]}return b}function w(a){a.up.down=a.down;a.down.up=a.up;a.up=a.down=null}var o=this,N=Math.floor(Math.random()*1E4),D=Function.prototype,x=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,
Q=/[\-\w]+\/\.\.\//,T=/([^:])\/\//g,I="",n={},U=c.easyXDM,B="easyXDM_",P,O=!1,C,K;if(i(c,"addEventListener"))C=function(a,b,c){a.addEventListener(b,c,!1)},K=function(a,b,c){a.removeEventListener(b,c,!1)};else if(i(c,"attachEvent"))C=function(a,b,c){a.attachEvent("on"+b,c)},K=function(a,b,c){a.detachEvent("on"+b,c)};else throw Error("Browser not supported");var J=!1,M=[],L;"readyState"in b?(L=b.readyState,J=L=="complete"||~navigator.userAgent.indexOf("AppleWebKit/")&&(L=="loaded"||L=="interactive")):
J=!!b.body;J||(i(c,"addEventListener")?C(b,"DOMContentLoaded",h):(C(b,"readystatechange",function(){b.readyState=="complete"&&h()}),b.documentElement.doScroll&&c===top&&function S(){if(!J){try{b.documentElement.doScroll("left")}catch(c){a(S,1);return}h()}}()),C(c,"load",h));var v=function(a){for(var a=a.substring(1).split("&"),b={},c,d=a.length;d--;)c=a[d].split("="),b[c[0]]=f(c[1]);return b}(/xdm_e=/.test(d.search)?d.search:d.hash);q(n,{version:"2.4.12.1",query:v,stack:{},apply:q,getJSONObject:u,
whenReady:m,noConflict:function(a){c.easyXDM=U;(I=a)&&(B="easyXDM_"+I.replace(".","_")+"_");return n}});n.DomHelper={on:C,un:K,requiresJSON:function(a){typeof c.JSON=="object"&&c.JSON||b.write('<script type="text/javascript" src="'+a+'"><\/script>')}};(function(){var a={};n.Fn={set:function(b,c){a[b]=c},get:function(b,c){var d=a[b];c&&delete a[b];return d}}})();n.Socket=function(a){var b=E(H(a).concat([{incoming:function(b,c){a.onMessage(b,c)},callback:function(b){if(a.onReady)a.onReady(b)}}])),c=
k(a.remote);this.origin=k(a.remote);this.destroy=function(){b.destroy()};this.postMessage=function(a){b.outgoing(a,c)};b.init()};n.Rpc=function(a,b){if(b.local)for(var c in b.local)if(b.local.hasOwnProperty(c)){var d=b.local[c];typeof d==="function"&&(b.local[c]={method:d})}var e=E(H(a).concat([new n.stack.RpcBehavior(this,b),{callback:function(b){if(a.onReady)a.onReady(b)}}]));this.origin=k(a.remote);this.destroy=function(){e.destroy()};e.init()};n.stack.SameOriginTransport=function(b){var c,e,f,
h;return c={outgoing:function(a,b,c){f(a);c&&c()},destroy:function(){e&&(e.parentNode.removeChild(e),e=null)},onDOMReady:function(){h=k(b.remote);b.isHost?(q(b.props,{src:g(b.remote,{xdm_e:d.protocol+"//"+d.host+d.pathname,xdm_c:b.channel,xdm_p:4}),name:B+b.channel+"_provider"}),e=z(b),n.Fn.set(b.channel,function(b){f=b;a(function(){c.up.callback(!0)},0);return function(a){c.up.incoming(a,h)}})):(f=j().Fn.get(b.channel,!0)(function(a){c.up.incoming(a,h)}),a(function(){c.up.callback(!0)},0))},init:function(){m(c.onDOMReady,
c)}}};n.stack.FlashTransport=function(c){function d(b){a(function(){f.up.incoming(b,i)},0)}function e(a){var d=c.swf,f="easyXDM_swf_"+Math.floor(Math.random()*1E4);n.Fn.set("flash_loaded",function(){n.stack.FlashTransport.__swf=p=y.firstChild;a()});y=b.createElement("div");q(y.style,{height:"1px",width:"1px",postition:"absolute",left:0,top:0});b.body.appendChild(y);var g="proto="+o.location.protocol+"&domain="+o.location.href.match(x)[3]+"&ns="+I;y.innerHTML="<object height='1' width='1' type='application/x-shockwave-flash' id='"+
f+"' data='"+d+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+d+"'></param><param name='flashvars' value='"+g+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+g+"' allowScriptAccess='always' wmode='transparent' src='"+d+"' height='1' width='1'></embed></object>"}var f,h,i,p,y;return f={outgoing:function(a,b,d){p.postMessage(c.channel,a);d&&d()},destroy:function(){try{p.destroyChannel(c.channel)}catch(a){}p=
null;h&&(h.parentNode.removeChild(h),h=null)},onDOMReady:function(){i=c.remote;p=n.stack.FlashTransport.__swf;n.Fn.set("flash_"+c.channel+"_init",function(){a(function(){f.up.callback(!0)})});n.Fn.set("flash_"+c.channel+"_onMessage",d);var b=function(){p.createChannel(c.channel,c.secret,k(c.remote),c.isHost);c.isHost&&(q(c.props,{src:g(c.remote,{xdm_e:k(o.location.href),xdm_c:c.channel,xdm_p:6,xdm_s:c.secret}),name:B+c.channel+"_provider"}),h=z(c))};p?b():e(b)},init:function(){m(f.onDOMReady,f)}}};
n.stack.PostMessageTransport=function(b){function e(a){var c;if(a.origin)c=k(a.origin);else if(a.uri)c=k(a.uri);else if(a.domain)c=d.protocol+"//"+a.domain;else throw"Unable to retrieve the origin of the event";c==j&&a.data.substring(0,b.channel.length+1)==b.channel+" "&&f.up.incoming(a.data.substring(b.channel.length+1),c)}var f,h,i,j;return f={outgoing:function(a,c,d){i.postMessage(b.channel+" "+a,c||j);d&&d()},destroy:function(){K(c,"message",e);h&&(i=null,h.parentNode.removeChild(h),h=null)},
onDOMReady:function(){j=k(b.remote);b.isHost?(C(c,"message",function y(d){d.data==b.channel+"-ready"&&(i="postMessage"in h.contentWindow?h.contentWindow:h.contentWindow.document,K(c,"message",y),C(c,"message",e),a(function(){f.up.callback(!0)},0))}),q(b.props,{src:g(b.remote,{xdm_e:k(d.href),xdm_c:b.channel,xdm_p:1}),name:B+b.channel+"_provider"}),h=z(b)):(C(c,"message",e),i="postMessage"in c.parent?c.parent:c.parent.document,i.postMessage(b.channel+"-ready",j),a(function(){f.up.callback(!0)},0))},
init:function(){m(f.onDOMReady,f)}}};n.stack.FrameElementTransport=function(e){var f,h,i,j;return f={outgoing:function(a,b,c){i.call(this,a);c&&c()},destroy:function(){h&&(h.parentNode.removeChild(h),h=null)},onDOMReady:function(){j=k(e.remote);if(e.isHost)q(e.props,{src:g(e.remote,{xdm_e:k(d.href),xdm_c:e.channel,xdm_p:5}),name:B+e.channel+"_provider"}),h=z(e),h.fn=function(b){delete h.fn;i=b;a(function(){f.up.callback(!0)},0);return function(a){f.up.incoming(a,j)}};else{if(b.referrer&&k(b.referrer)!=
v.xdm_e)c.top.location=v.xdm_e;i=c.frameElement.fn(function(a){f.up.incoming(a,j)});f.up.callback(!0)}},init:function(){m(f.onDOMReady,f)}}};n.stack.NixTransport=function(e){var f,h,j,l,t;return f={outgoing:function(a,b,c){j(a);c&&c()},destroy:function(){t=null;h&&(h.parentNode.removeChild(h),h=null)},onDOMReady:function(){l=k(e.remote);if(e.isHost){try{i(c,"getNixProxy")||c.execScript("Class NixProxy\n    Private m_parent, m_child, m_Auth\n\n    Public Sub SetParent(obj, auth)\n        If isEmpty(m_Auth) Then m_Auth = auth\n        SET m_parent = obj\n    End Sub\n    Public Sub SetChild(obj)\n        SET m_child = obj\n        m_parent.ready()\n    End Sub\n\n    Public Sub SendToParent(data, auth)\n        If m_Auth = auth Then m_parent.send(CStr(data))\n    End Sub\n    Public Sub SendToChild(data, auth)\n        If m_Auth = auth Then m_child.send(CStr(data))\n    End Sub\nEnd Class\nFunction getNixProxy()\n    Set GetNixProxy = New NixProxy\nEnd Function\n",
"vbscript"),t=getNixProxy(),t.SetParent({send:function(a){f.up.incoming(a,l)},ready:function(){a(function(){f.up.callback(!0)},0)}},e.secret),j=function(a){t.SendToChild(a,e.secret)}}catch(p){throw Error("Could not set up VBScript NixProxy:"+p.message);}q(e.props,{src:g(e.remote,{xdm_e:k(d.href),xdm_c:e.channel,xdm_s:e.secret,xdm_p:3}),name:B+e.channel+"_provider"});h=z(e);h.contentWindow.opener=t}else{if(b.referrer&&k(b.referrer)!=v.xdm_e)c.top.location=v.xdm_e;try{t=c.opener}catch(y){throw Error("Cannot access window.opener");
}t.SetChild({send:function(a){o.setTimeout(function(){f.up.incoming(a,l)},0)}});j=function(a){t.SendToParent(a,e.secret)};a(function(){f.up.callback(!0)},0)}},init:function(){m(f.onDOMReady,f)}}};n.stack.NameTransport=function(b){function c(a){y.contentWindow.sendMessage(a,b.remoteHelper+(p?"#_3":"#_2")+b.channel)}function d(){p?(++j===2||!p)&&h.up.callback(!0):(c("ready"),h.up.callback(!0))}function e(a){h.up.incoming(a,W)}function f(){G&&a(function(){G(!0)},0)}var h,p,y,i,j,G,W,X;return h={outgoing:function(a,
b,d){G=d;c(a)},destroy:function(){y.parentNode.removeChild(y);y=null;p&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){p=b.isHost;j=0;W=k(b.remote);b.local=l(b.local);p?(n.Fn.set(b.channel,function(a){p&&a==="ready"&&(n.Fn.set(b.channel,e),d())}),X=g(b.remote,{xdm_e:b.local,xdm_c:b.channel,xdm_p:2}),q(b.props,{src:X+"#"+b.channel,name:B+b.channel+"_provider"}),i=z(b)):(b.remoteHelper=b.remote,n.Fn.set(b.channel,e));y=z({props:{src:b.local+"#_4"+b.channel},onLoad:function Z(){var c=y||
this;K(c,"load",Z);n.Fn.set(b.channel+"_load",f);(function aa(){typeof c.contentWindow.sendMessage=="function"?d():a(aa,50)})()}})},init:function(){m(h.onDOMReady,h)}}};n.stack.HashTransport=function(b){function d(){if(j){var a=j.location.href,b="",c=a.indexOf("#");c!=-1&&(b=a.substring(c));b&&b!=p&&(p=b,e.up.incoming(p.substring(p.indexOf("_")+1),l))}}var e,f,g,h,p,i,j,A,G,l;return e={outgoing:function(a){if(A)a=b.remote+"#"+i++ +"_"+a,(f||!G?A.contentWindow:A).location=a},destroy:function(){c.clearInterval(g);
(f||!G)&&A.parentNode.removeChild(A);A=null},onDOMReady:function(){f=b.isHost;h=b.interval;p="#"+b.channel;i=0;G=b.useParent;l=k(b.remote);if(f){b.props={src:b.remote,name:B+b.channel+"_provider"};if(G)b.onLoad=function(){j=c;g=setInterval(d,h);e.up.callback(!0)};else{var m=0,n=b.delay/50;(function $(){if(++m>n)throw Error("Unable to reference listenerwindow");try{j=A.contentWindow.frames[B+b.channel+"_consumer"]}catch(c){}j?(g=setInterval(d,h),e.up.callback(!0)):a($,50)})()}A=z(b)}else j=c,g=setInterval(d,
h),G?(A=parent,e.up.callback(!0)):(q(b,{props:{src:b.remote+"#"+b.channel+new Date,name:B+b.channel+"_consumer"},onLoad:function(){e.up.callback(!0)}}),A=z(b))},init:function(){m(e.onDOMReady,e)}}};n.stack.ReliableBehavior=function(){var a,b,c=0,d=0,e="";return a={incoming:function(f,g){var h=f.indexOf("_"),i=f.substring(0,h).split(","),f=f.substring(h+1);i[0]==c&&(e="",b&&b(!0));f.length>0&&(a.down.outgoing(i[1]+","+c+"_"+e,g),d!=i[1]&&(d=i[1],a.up.incoming(f,g)))},outgoing:function(f,g,h){e=f;b=
h;a.down.outgoing(d+","+ ++c+"_"+f,g)}}};n.stack.QueueBehavior=function(b){function c(){if(b.remove&&g.length===0)w(d);else if(!h&&!(g.length===0||p)){h=!0;var e=g.shift();d.down.outgoing(e.data,e.origin,function(b){h=!1;e.callback&&a(function(){e.callback(b)},0);c()})}}var d,g=[],h=!0,i="",p,j=0,k=!1,A=!1;return d={init:function(){r(b)&&(b={});if(b.maxLength)j=b.maxLength,A=!0;b.lazy?k=!0:d.down.init()},callback:function(a){h=!1;var b=d.up;c();b.callback(a)},incoming:function(a,c){if(A){var e=a.indexOf("_"),
g=parseInt(a.substring(0,e),10);i+=a.substring(e+1);g===0&&(b.encode&&(i=f(i)),d.up.incoming(i,c),i="")}else d.up.incoming(a,c)},outgoing:function(a,f,h){b.encode&&(a=e(a));var p=[],i;if(A){for(;a.length!==0;)i=a.substring(0,j),a=a.substring(i.length),p.push(i);for(;i=p.shift();)g.push({data:p.length+"_"+i,origin:f,callback:p.length===0?h:null})}else g.push({data:a,origin:f,callback:h});k?d.down.init():c()},destroy:function(){p=!0;d.down.destroy()}}};n.stack.VerifyBehavior=function(a){function b(){d=
Math.random().toString(16).substring(2);c.down.outgoing(d)}var c,d,e;return c={incoming:function(f,g){var h=f.indexOf("_");h===-1?f===d?c.up.callback(!0):e||(e=f,a.initiate||b(),c.down.outgoing(f)):f.substring(0,h)===e&&c.up.incoming(f.substring(h+1),g)},outgoing:function(a,b,e){c.down.outgoing(d+"_"+a,b,e)},callback:function(){a.initiate&&b()}}};n.stack.RpcBehavior=function(a,b){function c(a){a.jsonrpc="2.0";f.down.outgoing(g.stringify(a))}function d(a,b){var e=Array.prototype.slice;return function(){var d=
arguments.length,f,g={method:b};d>0&&typeof arguments[d-1]==="function"?(d>1&&typeof arguments[d-2]==="function"?(f={success:arguments[d-2],error:arguments[d-1]},g.params=e.call(arguments,0,d-2)):(f={success:arguments[d-1]},g.params=e.call(arguments,0,d-1)),i[""+ ++h]=f,g.id=h):g.params=e.call(arguments,0);if(a.namedParams&&g.params.length===1)g.params=g.params[0];c(g)}}function e(a,b,d,f){if(d){var g,h;b?(g=function(a){g=D;c({id:b,result:a})},h=function(a,d){h=D;var e={id:b,error:{code:-32099,message:a}};
if(d)e.error.data=d;c(e)}):g=h=D;Object.prototype.toString.call(f)==="[object Array]"||(f=[f]);try{var i=d.method.apply(d.scope,f.concat([g,h]));r(i)||g(i)}catch(p){h(p.message)}}else b&&c({id:b,error:{code:-32601,message:"Procedure not found."}})}var f,g=b.serializer||u(),h=0,i={};return f={incoming:function(a){a=g.parse(a);if(a.method)b.handle?b.handle(a,c):e(a.method,a.id,b.local[a.method],a.params);else{var d=i[a.id];a.error?d.error&&d.error(a.error):d.success&&d.success(a.result);delete i[a.id]}},
init:function(){if(b.remote)for(var c in b.remote)b.remote.hasOwnProperty(c)&&(a[c]=d(b.remote[c],c));f.down.init()},destroy:function(){for(var c in b.remote)b.remote.hasOwnProperty(c)&&a.hasOwnProperty(c)&&delete a[c];f.down.destroy()}}};o.easyXDM=n})(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);
DISQUS.net={easyXDM:easyXDM.noConflict("DISQUS.net"),rpc:function(c,b){if(!c.swf)c.swf=DISQUS.settings.debug?DISQUS.settings.disqus_url+"/xdm.swf":DISQUS.settings.media_url+"/xdm.swf";if(typeof c.hash=="undefined")c.hash=!DISQUS.settings.debug;DISQUS.extend(b,{serializer:{parse:DISQUS.json.parse,stringify:DISQUS.json.stringify}});var d=new DISQUS.net.easyXDM.Rpc(c,b);d.isReady=!1;return d}};
(function(){function c(a){return a<10?"0"+a:a}function b(a){i.lastIndex=0;return i.test(a)?'"'+a.replace(i,function(a){var b=j[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,c){var e,i,j,l,E=h,w,o=c[a];o&&typeof o==="object"&&typeof o.toJSON==="function"&&!f&&(o=o.toJSON(a));typeof k==="function"&&(o=k.call(c,a,o));switch(typeof o){case "string":return b(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);
case "object":if(!o)return"null";h+=m;w=[];if(Object.prototype.toString.apply(o)==="[object Array]"){l=o.length;for(e=0;e<l;e+=1)w[e]=d(e,o)||"null";j=w.length===0?"[]":h?"[\n"+h+w.join(",\n"+h)+"\n"+E+"]":"["+w.join(",")+"]";h=E;return j}if(k&&typeof k==="object"){l=k.length;for(e=0;e<l;e+=1)i=k[e],typeof i==="string"&&(j=d(i,o))&&w.push(b(i)+(h?": ":":")+j)}else for(i in o)Object.hasOwnProperty.call(o,i)&&(j=d(i,o))&&w.push(b(i)+(h?": ":":")+j);j=w.length===0?"{}":h?"{\n"+h+w.join(",\n"+h)+"\n"+
E+"}":"{"+w.join(",")+"}";h=E;return j}}var a={},f=!1;if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,m,j={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;a.stringify=function(a,b,c){var e;m=h="";if(typeof c==="number")for(e=0;e<c;e+=1)m+=" ";else typeof c==="string"&&(m=c);if((k=b)&&typeof b!=="function"&&(typeof b!=="object"||typeof b.length!=="number"))throw Error("JSON.stringify");return d("",{"":a})};a.parse=function(a,b){function c(a,
d){var e,f,g=a[d];if(g&&typeof g==="object")for(e in g)Object.hasOwnProperty.call(g,e)&&(f=c(g,e),f!==void 0?g[e]=f:delete g[e]);return b.call(a,d,g)}var d,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),
typeof b==="function"?c({"":d},""):d;throw new SyntaxError("JSON.parse");};DISQUS.json={};var l={a:[1,2,3]};if(Object.toJSON&&Object.toJSON(l).replace(/\s/g,"")==='{"a":[1,2,3]}')DISQUS.json.stringify=Object.toJSON;if(typeof String.prototype.evalJSON==="function"&&(l='{"a":[1,2,3]}'.evalJSON(),l.a&&l.a.length===3&&l.a[2]===3))DISQUS.json.parse=function(a){return a.evalJSON()};(function(){var a=[1,2,3];typeof a.toJSON==="function"&&(a=a.toJSON(),f=!(a&&a.length===3&&a[2]===3))})();if(!DISQUS.json.stringify||
!DISQUS.json.parse)DISQUS.json={stringify:a.stringify,parse:a.parse}})();
(function(c,b){function d(){this.c={}}function a(a){H=[];g=0;for(w=a.length;g<w;g++)H[g]=a[g];return H}function f(a){for(;a=a.previousSibling;)if(a.nodeType==1)break;return a}function e(a,b,c,d,e,f,i,j,k,m,n){var q,o;if(b&&this.tagName.toLowerCase()!==b)return!1;if(c&&(q=c.match(Q))&&q[1]!==this.id)return!1;if(c&&(N=c.match(T)))for(g=N.length;g--;)if(a=N[g].slice(1),!(R.g(a)||R.s(a,RegExp("(^|\\s+)"+a+"(\\s+|$)"))).test(this.className))return!1;if(k&&l.pseudos[k]&&!l.pseudos[k](this,n))return!1;if(d&&
!i)for(o in z=this.attributes,z)if(Object.prototype.hasOwnProperty.call(z,o)&&(z[o].name||o)==e)return this;if(d&&!h(f,this.getAttribute(e)||"",i))return!1;return this}function i(a){return S.g(a)||S.s(a,a.replace(M,"\\$1"))}function h(a,b,c){switch(a){case "=":return b==c;case "^=":return b.match(F.g("^="+c)||F.s("^="+c,RegExp("^"+i(c))));case "$=":return b.match(F.g("$="+c)||F.s("$="+c,RegExp(i(c)+"$")));case "*=":return b.match(F.g(c)||F.s(c,RegExp(i(c))));case "~=":return b.match(F.g("~="+c)||
F.s("~="+c,RegExp("(?:^|\\s+)"+i(c)+"(?:\\s+|$)")));case "|=":return b.match(F.g("|="+c)||F.s("|="+c,RegExp("^"+i(c)+"(-|$)")))}return 0}function m(a){var c=[],d=[],f,g=0,h,i,j,k,m,l=V.g(a)||V.s(a,a.split(J)),a=a.match(K),l=l.slice(0);if(!l.length)return c;i=l.pop();k=l.length&&(f=l[l.length-1].match(I))?b.getElementById(f[1]):b;if(!k)return c;m=i.match(L);h=a&&/^[+~]$/.test(a[a.length-1])?function(a){for(;k=k.nextSibling;)k.nodeType==1&&(m[1]?m[1]==k.tagName.toLowerCase():1)&&a.push(k);return a}([]):
k.getElementsByTagName(m[1]||"*");f=0;for(i=h.length;f<i;f++)if(j=e.apply(h[f],m))c[g++]=j;if(!l.length)return c;g=0;i=c.length;for(h=0;g<i;g++){j=c[g];for(f=l.length;f--;)for(;j=v[a[f]](j,c[g]);)if(o=e.apply(j,l[f].match(L)))break;o&&(d[h++]=c[g])}return d}function j(c,d,e){e=typeof d=="string"?e(d)[0]:d||b;if(c===window||c&&c.nodeType&&(c.nodeType==1||c.nodeType==9))return!d||c!==window&&e&&e.nodeType&&(e.nodeType==1||e.nodeType==9)&&s(c,e)?[c]:[];if(c&&typeof c==="object"&&isFinite(c.length))return a(c);
if(q=c.match(I))return(E=b.getElementById(q[1]))?[E]:[];if(q=c.match(U))return a(e.getElementsByTagName(q[1]));return!1}function k(a){var b=[],c,d;c=0;a:for(;c<a.length;c++){for(d=0;d<b.length;d++)if(b[d]==a[c])continue a;b[b.length]=a[c]}return b}function l(a,c){var d=typeof c=="string"?l(c)[0]:c||b;if(!d||!a)return[];if(q=j(a,c,l))return q;return Y(a,d)}var g,r,u,q,z,H,E,w,o,N,D,x=b.documentElement,Q=/#([\w\-]+)/,T=/\.[\w\-]+/g,I=/^#([\w\-]+$)/,n=/^\.([\w\-]+)$/,U=/^([\w\-]+)$/,B=/^([\w]+)?\.([\w\-]+)$/,
P=/\s*([\s\+\~>])\s*/g,O=/[\s\>\+\~]/,C=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\])/,K=RegExp("("+O.source+")"+C.source,"g"),J=RegExp(O.source+C.source),M=/([.*+?\^=!:${}()|\[\]\/\\])/g,L=RegExp(/^([a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?(\w+)['"]?\))?/.source+")?"),v={" ":function(a){return a&&a!==x&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&
a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){if(!a)return!1;c=f(a);d=f(b);return c&&d&&c==d&&c}};d.prototype={g:function(a){return this.c[a]||void 0},s:function(a,b){return this.c[a]=b}};var R=new d,S=new d,F=new d,V=new d,s="compareDocumentPosition"in x?function(a,b){return(b.compareDocumentPosition(a)&16)==16}:"contains"in x?function(a,c){c=c==b||c==window?x:c;return c!==a&&c.contains(a)}:function(a,b){for(;a=a.parentNode;)if(a===b)return 1;return 0},Y=b.querySelector&&
b.querySelectorAll?function(c,d){if(b.getElementsByClassName&&(q=c.match(n)))return a(d.getElementsByClassName(q[1]));return a(d.querySelectorAll(c))}:function(a,c){var a=a.replace(P,"$1"),d=[],e,f=[],g;if(q=a.match(B)){D=c.getElementsByTagName(q[1]||"*");H=R.g(q[2])||R.s(q[2],RegExp("(^|\\s+)"+q[2]+"(\\s+|$)"));g=0;u=D.length;for(r=0;g<u;g++)H.test(D[g].className)&&(d[r++]=D[g]);return d}g=0;D=a.split(",");for(u=D.length;g<u;g++)f[g]=m(D[g]);g=0;for(u=f.length;g<u&&(e=f[g]);g++){var h=e;if(c!==b){h=
[];r=0;for(q=e.length;r<q&&(element=e[r]);r++)s(element,c)&&h.push(element)}d=d.concat(h)}return k(d)};l.uniq=k;l.pseudos={};var t=c.qwery;l.noConflict=function(){c.qwery=t;return this};c.qwery=l})(this,document);DISQUS.qwery=qwery.noConflict();
DISQUS.sdk.add("getThread","1.0",function(c){var b=DISQUS.jsonData,d=[];DISQUS.each(b.ordered_posts,function(a){var a=b.posts[a],c=b.users[a.user_key];d.push({id:a.id,date:a.real_date,prettyDate:a.date,contents:a.message,likesCount:a.likes,isApproved:a.approved,isDeleted:a.killed,isEdited:a.edited,author:{username:c.username,displayName:c.display_name,points:c.points||0,isRegistered:c.registered,isModerator:a.author_is_moderator,isVerified:c.verified}})});c({id:b.thread.id,slug:b.thread.slug,isClosed:b.thread.closed,
isDeleted:b.thread.killed,posts:d,forum:{id:b.forum.id,name:b.forum.name,shortname:b.forum.url,language:b.forum.language,apiKey:b.forum.apiKey}})});DISQUS.sdk.add("getSession","1.0",function(c){var b=DISQUS.jsonData;c({user:{username:b.request.username,email:b.request.email,profileUrl:b.request.profile_url,displayName:b.request.display_username,points:b.request.points,isAuthenticated:b.request.is_authenticated,isModerator:b.request.is_moderator,isVerified:b.request.is_verified}})});
DISQUS.addBlocks("defaults")(function(c){c.blocks.comment=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("    "),a.compile()};c.blocks.postSharingOptions=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f){a.put("  ");if(request.is_authenticated){a.put('<div class="dsq-sharing-options dsq-tt"');request.display_sharing_options||a.put('style="display:none;"');a.put('title="');a.put(trans("Toggle to share your comment"));a.put('">');if(request.sharing.twitter.enabled||
request.sharing.facebook.enabled)a.put('<span class="dsq-sharing-options-label">'),a.put(trans("Share on")),a.put("</span>"),request.sharing.twitter.enabled&&(a.put('<button type="button" class="dsq-share-toggle" id="dsq-share-twitter" onclick="DISQUS.dtpl.actions.fire(\'share.toggle\', this, \'twitter\''),comment&&(a.put(","),a.put(comment.id)),a.put(');"><span class="dsq-share-icon"></span><span class="dsq-share-status"></span></button>')),request.sharing.facebook.enabled&&(a.put('<button type="button" class="dsq-share-toggle" id="dsq-share-facebook"onclick="DISQUS.dtpl.actions.fire(\'share.toggle\', this, \'facebook\''),
comment&&(a.put(","),a.put(comment.id)),a.put(');"><span class="dsq-share-icon"></span><span class="dsq-share-status"></span></button>')),a.put('<input style="display: none" type="checkbox" id="dsq-sharing-twitter'),comment&&(a.put("-"),a.put(comment.id)),a.put('" />    <input style="display: none" type="checkbox" id="dsq-sharing-facebook'),comment&&(a.put("-"),a.put(comment.id)),a.put('" />');a.put("</div>")}return a.compile()}};c.blocks.messagesxNotice=function(b,d){var a=new c.Builder,f=DISQUS.extend({},
b,d);with(f)return a.put('    <div class="dsq-messagesx-body">        <p>'),a.put(message.formatted.text),a.put("</p>    </div>"),a.compile()};c.blocks.googleForm=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div id="dsq-login-google-content" class="dsq-auth-form">    <div class="dsq-connect-msg">      <h3>'),a.put(trans("Sign in with your Google account")),a.put("</h3>      <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>      <p><span class="dsq-google-connect dsq-external-launcher"></span></p>    </div>    <div class="dsq-remote-authentication" style="display:none !important">      <img src="'),
a.put(settings.media_url),a.put('/images/dsq-loader.gif">      <p>'),a.put(trans("Connecting to Google")),a.put("</p>    </div>    <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),a.put("</small></p>  </div>"),a.compile()};c.blocks.facebookLoginForm=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f){a.put('  <div id="dsq-login-facebook-content" class="dsq-auth-form">    <div class="dsq-connect-msg">      ');if(typeof title==="undefined"||title)a.put("      <h3>"),
a.put(trans("Sign in with your Facebook account")),a.put("</h3>      ");a.put("      <p>");a.put(trans("Click the button below to continue."));a.put('</p>      <p id="dsq-login-facebook-frame">        <\!-- frame goes here --\>      </p>    </div>    <div class="dsq-remote-authentication" style="display:none !important">      <img src="');a.put(settings.media_url);a.put('/images/dsq-loader.gif" />      <p>');a.put(trans("Connecting to Facebook"));a.put("</p>    </div>    <p><small>");a.put(trans("You might need to disable your popup blocker to sign in."));
a.put("</small></p>  </div>");return a.compile()}};c.blocks.reportConfirmation=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div style="text-align: center">  <button type="button" class="dsq-button" onclick="DISQUS.dtpl.actions.fire(\'comments.report\', '),a.put(id),a.put(', true);">     '),a.put(trans("Yes, flag as inappropriate")),a.put('  </button>  <a href="#" onclick="DISQUS.popup.close(null, true);" style="margin: 0 0 0 10px">'),a.put(trans("Cancel")),a.put("</a>  <br/><br/>  </div>  "),
a.put(trans("This will flag comments for moderators to take action.")),a.compile()};c.blocks.globalToolbarDropdown=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),a.put('  <div id="dsq-toolbar-dropdown">    <a href="#" onclick="return false" class="dsq-toolbar-logo dsq-toolbar-item dsq-clearfix"><span class="dsq-toolbar-icon">Disqus</span></a>    <div id="dsq-toolbar-dropdown-wrap" style="display: none">      <ul class="dsq-clearfix">        '),request.is_authenticated?
(a.put("            "),!request.is_remote&&!forum.disqus_auth_disabled?(a.put('                <li class="dsq-dashboard-link"><a href="#" onclick="DISQUS.dtpl.actions.fire(\'profile.dashboard\'); return false"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),a.put(trans("Dashboard")),a.put('</span></a></li>                <li class="dsq-editprofile-link"><a href="#" onclick="DISQUS.dtpl.actions.fire(\'profile.edit\'); return false"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),
a.put(trans("Edit Profile")),a.put("</span></a></li>            ")):request.is_remote&&request.email&&(a.put('                <li class="dsq-editprofile-link"><a href="#" onclick="return DISQUS.dtpl.actions.fire(\'user.remoteAccountSettings\');"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),a.put(trans("Settings")),a.put("</span></a></li>            ")),a.put("            "),request.is_sso&&config.sso&&config.sso.logout?(a.put('              <li class="dsq-logout-link"><a href="'),
a.put(config.sso.logout)):(a.put('              <li class="dsq-logout-link"><a href="'),a.put(urls.logout),a.put("?ctkn="),a.put(context.csrf_token)),a.put('"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),a.put(trans("Logout")),a.put("</span></a></li>            "),a.put("        ")):(a.put('            <li class="dsq-login-link"><a href="#" onclick="DISQUS.dtpl.actions.fire(\'auth.login\'); return false"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),
a.put(trans("Login")),a.put("</span></a></li>        ")),a.put('            <li class="dsq-about-link"><a href="http://disqus.com" target="_blank"><span class="dsq-toolbar-icon"></span><span class="dsq-toolbar-label">'),a.put(trans("About Disqus")),a.put("</span></a></li>      </ul>    </div>  </div>"),a.compile()};c.blocks.moderatorActionsPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),a.put('<div class="dsq-moderate-options">    <table>      <tr>        <td>'),
a.put(trans("Actions")),a.put("</td>        <td>          <ul>            <li>"),thread.closed?(a.put('<a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.open\');">'),a.put(trans("Open thread"))):(a.put('<a href="#" onclick="return DISQUS.dtlp.actions.fire(\'thread.close\');">'),a.put(trans("Close thread"))),a.put("</a>"),a.put("</li>          </ul>        </td>      </tr>    </table>  </div>  <p>"),a.put(trans("Go to the full")),a.put('<a href="'),a.put(urls.moderate_threads),a.put('" target="_blank">'),
a.put(trans("moderate panel")),a.put("</a>"),a.put(trans("for more options")),a.put(".</p>"),a.put("  "),a.compile()};c.blocks.comments=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('    <div id="dsq-edit-profile-suggestion" style="display:none">        <p>'),a.put(trans("Thanks for posting.")),a.put(" "),a.put(trans("Would you like to")),a.put(' <a href="#" onclick="DISQUS.dtpl.actions.fire(\'profile.edit\'); return false">edit your profile</a>?</p>    </div>    '),
c.each(comments,function(b,d){var f={comment:b,index:d};a.put("        ");(function(){var b={};c.extend(b,f);c.extend(b,{});a.put(c.renderBlock("comment",b))})();a.put("    ")}),a.compile()};c.blocks.oldFlashMessage=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("You are using an older browser. In order to comment, please upgrade to either Flash 10 or Internet Explorer 8."),a.compile()};c.blocks.publisherFacebookLoginForm=function(b,d){var a=new c.Builder,f=DISQUS.extend({},
b,d);with(f)return a.put('    <div id="dsq-login-facebook-content" class="dsq-auth-form">      <div class="dsq-connect-msg">        <h3>'),a.put(trans("Sign in with your Facebook account")),a.put("</h3>        <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>        <p><span class="dsq-facebook-connect dsq-external-launcher"></span></p>      </div>      <div class="dsq-remote-authentication" style="display:none !important">        <img src="'),a.put(settings.media_url),a.put('/images/dsq-loader.gif" />        <p>'),
a.put(trans("Connecting to Facebook")),a.put("</p>      </div>      <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),a.put("</small></p>    </div>"),a.compile()};c.blocks.permalinkPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('<div class="dsq-field">    <label>'),a.put(trans("You are anchored to")),a.put('</label>    <input type="text" readonly="true" class="dsq-anchored-to"       value="'),a.put(document.location.protocol),
a.put("//"),a.put(document.location.host),a.put(document.location.pathname),a.put(document.location.search),a.put("#comment-"),a.put(postId),a.put('"/></div>'),a.compile()};c.blocks.openidForm=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-auth-form">    <p class="dsq-field">      <label for="dsq-openid-url">'),a.put(trans("OpenID URL")),a.put('</label>      <input type="text" id="dsq-openid-url" value="http://"/>    </p>    <p class="dsq-field">      <label for="dsq-openid-url">'),
a.put(trans("Your name")),a.put('</label>      <input type="text" id="dsq-openid-username"/>    </p>    <p><button class="dsq-button" id="dsq-openid-submit-button">'),a.put(trans("Sign in")),a.put("</button></p>  </div>"),a.compile()};c.blocks.loginPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-tabbed-modal" id="dsq-tabbed-login-modal">    <ul class="dsq-modal-tabs">      '),guestTab&&(a.put('      <li id="dsq-login-tab-guest"><a href="#dsq-login-guest" '),
forum.allow_anon_post||a.put(' style="display: none !important"'),a.put("><span></span>"),a.put(trans("Guest")),a.put("</a></li>      ")),a.put("      "),config.sso&&(a.put('<li id="dsq-login-tab-sso"><a href="#dsq-login-sso"><span></span>'),a.put(config.sso.name),a.put("</a></li>")),a.put("      "),forum.disqus_auth_disabled||a.put('      <li id="dsq-login-tab-disqus"><a href="#dsq-login-disqus"><span></span>Disqus</a></li>      '),a.put('      <li id="dsq-login-tab-google"><a href="#dsq-login-google"><span></span>Google</a></li>      <li id="dsq-login-tab-twitter"><a href="#dsq-login-twitter"><span></span>Twitter</a></li>      <li id="dsq-login-tab-facebook"><a href="#dsq-login-facebook"><span></span>Facebook</a></li>      <li id="dsq-login-tab-yahoo"><a href="#dsq-login-yahoo"><span></span>Yahoo</a></li>      <li id="dsq-login-tab-openid"><a href="#dsq-login-openid"><span></span>OpenID</a></li>    </ul>    <div class="dsq-tab-container">      <div id="dsq-login-guest" class="dsq-tab-content dsq-auth-form" style="display: none !important">        <p class="dsq-field">          <label for="dsq-field-email" id="dsq-field-email-label">'),
a.put(trans("Your email")),a.put('</label>          <input type="text"            value="'),config.def_email?a.put(config.def_email):session.email&&a.put(session.email),a.put('" id="dsq-field-email"/>          </span>        <p class="dsq-field">          <label for="dsq-field-name" id="dsq-field-name-label">'),a.put(trans("Your name")),a.put('</label>          <input type="text"            value="'),config.def_name?a.put(config.def_name):session.name?a.put(session.name):a.put(trans("Guest")),a.put('" id="dsq-field-name" />        </p>        <p>          <span class="dsq-login-add-url">'),
a.put(trans("Optional")),a.put(': <a href="#">'),a.put(trans("Link to your website")),a.put('</a></span>        </p>        <p class="dsq-field" style="display:none !important" id="dsq-optional-field-website">          <label for="dsq-field-website" id="dsq-field-website-label">'),a.put(trans("Your website")),a.put('</label>          <input type="text" value="'),session.url&&a.put(session.url),a.put('" id="dsq-field-website" />        </p>        <p class="dsq-login-subscribe">          <span>            <input id="dsq-subscribe-on-post'),
comment&&(a.put("-"),a.put(comment.id)),a.put('" type="checkbox"              '),request.subscribe_on_post&&a.put('checked="true"'),a.put('/>          </span>          <label for="dsq-subscribe-on-post'),comment&&(a.put("-"),a.put(comment.id)),a.put('">'),a.put(trans("Subscribe to all comments by email")),a.put('</label>        </p>        <p>          <button type="button" id="dsq-submit-guest" class="dsq-button">'),a.put(trans("Post comment")),a.put("</button>        </p>      </div>        "),
a.put("        "),typeof states.useLoginWindow!=="undefined"&&!states.useLoginWindow?a.put('            <div id="dsq-login-disqus" class="dsq-tab-content dsq-auth-form" style="display: none !important">              <\!-- disqus iframe gets inserted here dynamically --\>            </div>        '):(a.put('        <div id="dsq-login-disqus" class="dsq-tab-content dsq-auth-form" style="display: none !important">              <div class="dsq-connect-msg">                <h3>'),a.put(trans("Sign in with your Disqus account")),
a.put("</h3>                <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>                <p><span class="dsq-disqus-connect dsq-external-launcher"></span></p>              </div>            <div class="dsq-remote-authentication" style="display:none !important">              <img src="'),a.put(settings.media_url),a.put('/images/dsq-loader.gif" />              <p>'),a.put(trans("Connecting to Disqus")),a.put("</p>            </div>            <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),
a.put("</small></p>        </div>        ")),a.put('        <div id="dsq-login-facebook" class="dsq-tab-content" style="display:none !important">            '),a.put("            "),context.forum_facebook_key&&(!window.FB||!window.FB.dynData)?(a.put("                "),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("publisherFacebookLoginForm",b))}()):(a.put(" "),a.put("                "),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("facebookLoginForm",
b))}()),a.put("            "),a.put('        </div>        <div id="dsq-login-twitter" class="dsq-tab-content dsq-auth-form" style="display:none !important">          <div class="dsq-connect-msg">            <h3>'),a.put(trans("Sign in with your Twitter account")),a.put("</h3>            <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>            <p><span class="dsq-twitter-connect dsq-external-launcher"></span></p>          </div>          <div class="dsq-remote-authentication" style="display:none !important">            <img src="'),
a.put(settings.media_url),a.put('/images/dsq-loader.gif" />            <p>'),a.put(trans("Connecting to Twitter")),a.put("</p>          </div>          <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),a.put('</small></p>        </div>        <div id="dsq-login-openid" class="dsq-tab-content" style="display:none !important">          '),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("openidForm",b))}(),a.put('        </div>        <div id="dsq-login-google" class="dsq-tab-content" style="display:none !important">          '),
function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("googleForm",b))}(),a.put('        </div>        <div id="dsq-login-yahoo" class="dsq-tab-content dsq-auth-form" style="display: none !important">          <div class="dsq-connect-msg">            <h3>'),a.put(trans("Sign in with your Yahoo account")),a.put("</h3>            <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>            <p><span class="dsq-yahoo-connect dsq-external-launcher"></span></p>          </div>          <div class="dsq-remote-authentication" style="display:none !important">            <img src="'),
a.put(settings.media_url),a.put('/images/dsq-loader.gif" />            <p>'),a.put(trans("Connecting to Yahoo")),a.put("</p>          </div>          <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),a.put("</small></p>        </div>        "),config.sso&&(a.put('        <div id="dsq-login-sso" class="dsq-tab-content dsq-auth-form" style="display:none !important">          <div class="dsq-connect-msg">            <h3>'),a.put(c.interpolate(trans("Sign in with your %(account)s account"),
{account:config.sso.name})),a.put("</h3>            <p>"),a.put(trans("Click the button below to continue.")),a.put('</p>            <p><span class="dsq-sso-connect dsq-external-launcher"><img src="'),a.put(config.sso.button),a.put('"/></span></p>          </div>          <div class="dsq-remote-authentication" style="display:none !important">            <img src="'),a.put(settings.media_url),a.put('/images/dsq-loader.gif" />            <p>'),a.put(c.interpolate(trans("Connecting to %(account)s"),
{account:config.sso.name})),a.put("</p>          </div>          <p><small>"),a.put(trans("You might need to disable your popup blocker to sign in.")),a.put("</small></p>        </div>        ")),a.put("    </div>  </div>"),a.compile()};c.blocks.profileEdit=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-tabbed-modal" id="dsq-profile-edit-modal">    <ul class="dsq-modal-tabs">      '),has_unmerged_users&&a.put('      <li id="dsq-tab-profile-merge">        <a href="#dsq-profile-merge">          <span></span>Merging        </a>      </li>      '),
a.put('      <li id="dsq-tab-profile-edit">        <a href="#dsq-profile-edit">          <span></span>Profile        </a>      </li>      <li id="dsq-tab-profile-avatar">        <a href="#dsq-profile-avatar">          <span></span>Avatar        </a>      </li>      <li id="dsq-tab-profile-services">        <a href="#dsq-profile-services">          <span></span>Services        </a>      </li>      <li id="dsq-tab-profile-notifications">        <a href="#dsq-profile-notifications">          <span></span>Notifications        </a>      </li>      <li id="dsq-tab-profile-account">        <a href="#dsq-profile-account">          <span></span>Account        </a>      </li>      <li id="dsq-tab-profile-apps">        <a href="#dsq-profile-apps">          <span></span>Applications        </a>      </li>    </ul>    <div class="dsq-tab-container" style="height:90% !important;">        '),
has_unmerged_users&&a.put('        <div id="dsq-profile-merge" class="dsq-tab-content"></div>        '),a.put('        <div id="dsq-profile-edit" class="dsq-tab-content dsq-auth-form"></div>        <div id="dsq-profile-avatar" class="dsq-tab-content dsq-auth-form"></div>        <div id="dsq-profile-services" class="dsq-tab-content dsq-auth-form"></div>        <div id="dsq-profile-notifications" class="dsq-tab-content dsq-auth-form"></div>        <div id="dsq-profile-account" class="dsq-tab-content dsq-auth-form"></div>        <div id="dsq-profile-apps" class="dsq-tab-content dsq-auth-form"></div>    </div>  </div>'),
a.compile()};c.blocks.commentMessage=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="'),a.put(cls),a.put('" id="dsq-comment-message-'),a.put(comment.id),a.put('">    '),comment.killed?(a.put("      <em>"),a.put(trans("Comment removed.")),a.put("</em>    ")):comment.approved?(a.put("      "),a.put(comment.message),a.put("      "),comment.last_modified_by=="moderator"?(a.put('        <p class="dsq-editedtxt">('),a.put(trans("Edited by a moderator")),a.put(")</p>      ")):
comment.last_modified_by=="author"&&comment.has_replies&&(a.put('        <p class="dsq-editedtxt">('),a.put(trans("Edited by author")),a.put(" "),a.put(comment.last_modified_date),a.put(")</p>      ")),a.put("    ")):(a.put("      <em>"),a.put(trans("This comment was flagged for review.")),a.put("</em>    ")),a.put("  </div>"),a.compile()};c.blocks.popup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-popup-container '),strict&&a.put("dsq-cleanslate "),
a.put('">    <table>      <tbody>        <tr>          <td class="dsq-popup-tl"></td>          <td class="dsq-popup-b"></td>          <td class="dsq-popup-tr"></td>        </tr>        <tr>          <td class="dsq-popup-b"></td>          <td class="dsq-popup-body">            <div class="dsq-popup-wrapper">                <div class="dsq-popup-title">                    <button type="button" class="dsq-popup-close dsq-button-small" style="float:right; color: #fff">'),a.put(trans("Close")),a.put("</button>                    <h3>"),
a.put(popupHeader),a.put('</h3>                </div>                <div class="dsq-popup-content">                  '),a.put(popupBody),a.put("                </div>                "),footer&&(a.put('                <div class="powered-by">                  <a href="'),a.put(settings.disqus_url),a.put('">                    <img src="'),a.put(settings.media_url),a.put('/images/embed/disqus-logo-noborder.png" alt="Disqus Comments" style="margin-bottom:-5px;"/>                  </a>                </div>                ')),
a.put('            </div>          </td>          <td class="dsq-popup-b"></td>        </tr>        <tr>          <td class="dsq-popup-bl"></td>          <td class="dsq-popup-b"></td>          <td class="dsq-popup-br"></td>        </tr>      </tbody>    </table>  </div>'),a.compile()};c.blocks.globalToolbar=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('    <div id="dsq-global-toolbar" class="dsq-clearfix">        <ul class="dsq-global-toolbar-right dsq-clearfix">        '),
context.switches.community_icon&&(a.put('            <li class="dsq-community-box">                <a href="#" class="dsq-toolbar-item dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'community.show\'); return false" title="'),a.put(trans("Expand Community Box")),a.put('"><span class="dsq-toolbar-icon"></span></a>            </li>        ')),a.put("        "),request.is_moderator&&(a.put('            <li class="dsq-admin-settings">                <a href="#" class="dsq-toolbar-item dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.settings\'); return false;"  title="'),
a.put(trans("Settings")),a.put('"><span class="dsq-toolbar-icon"></span></a>            </li>        ')),a.put('            <li class="dsq-global-toolbar-dropdown-container">                '),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("globalToolbarDropdown",b))}(),a.put("            </li>        </ul>        "),forum.thread_votes_disabled||(a.put('        <ul class="dsq-global-toolbar-left dsq-clearfix">            <li class="dsq-like-thread">                <a href="#" id="dsq-like-thread-button" class="dsq-toolbar-item dsq-clearfix '),
thread.user_vote==1&&a.put("dsq-toggled"),a.put(' dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.vote\', 1); return false;" title="'),a.put(trans("I like this page")),a.put('">                    <span class="dsq-toolbar-icon"></span>                    <span class="dsq-toolbar-label">'),a.put(trans("Like")),a.put('</span>                </a>            </li>            <li class="dsq-dislike-thread">                <a href="#" id="dsq-dislike-thread-button" class="dsq-toolbar-item dsq-clearfix '),
thread.user_vote==-1&&a.put("dsq-toggled"),a.put(' dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.vote\', -1); return false" title="'),a.put(trans("I don&#39;t like this page")),a.put('">                    <span class="dsq-toolbar-icon">'),a.put(trans("Dislike")),a.put('</span>                </a>            </li>            <li class="dsq-like-panel">                <ul class="dsq-like-faces dsq-clearfix">                    '),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("likeActivity",
b))}(),a.put("                </ul>            </li>        </ul>        ")),a.put('    </div>    <div id="dsq-like-tooltip">      <div id="dsq-share-step-1" class="dsq-share-step">        <h3>'),a.put(trans("Glad you liked it. Would you like to share?")),a.put('</h3>        <p class="dsq-tooltip-checkbox"><input type="checkbox" id="dsq-share-thread-facebook" value="Facebook" /><label for="dsq-share-thread-facebook"><span class="dsq-facebook">Facebook</span></label></p>        <p class="dsq-tooltip-checkbox"><input type="checkbox" id="dsq-share-thread-twitter" value="Twitter" /><label for="dsq-share-thread-twitter"><span class="dsq-twitter">Twitter</span></label></p>        <ul id="dsq-tooltip-actions">          '),
forum.template.api=="1.0"?a.put('              <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share\'); return false" class="dsq-primary-action">'):a.put('              <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share.send\'); return false" class="dsq-primary-action">'),a.put(trans("Share")),a.put("</a></li>          "),a.put('          <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share.cancel\'); return false" class="dsq-secondary-action">'),a.put(trans("No thanks")),
a.put('</a></li>        </ul>      </div>      <div id="dsq-share-step-2" class="dsq-share-step" style="display:none !important">        <p>'),a.put(trans("Sharing this page")),a.put(' &hellip;</p>      </div>      <div id="dsq-share-step-3" class="dsq-share-step" style="display:none !important">        <p>'),a.put(trans("Thanks!")),a.put(' <a href="#" class="dsq-tooltip-decline" onclick="DISQUS.dtpl.actions.fire(\'thread.share.cancel\'); return false">Close</a></p>      </div>    </div>'),a.compile()};
c.blocks.recaptcha=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div id="dsq-captcha">      <div id="dsq-captcha-loading">          '),a.put('          <img src="'),a.put(settings.media_url),a.put('/images/loading.gif"/>      </div>      <div id="dsq-captcha-container" style="display:none">          <p>'),a.put(trans("Please type in the following words to finish posting.")),a.put("</p>          "),a.put('          <div id="dsq-captcha-form"></div>          <button type="button" class="dsq-button">'),
a.put(trans("Continue")),a.put("</button>      </div>  </div>"),a.compile()};c.blocks.messagesxPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('    <div id="dsq-messagesx-message-'),a.put(message.id),a.put('" class="dsq-messagesx dsq-messagesx-'),a.put(message.theme),a.put('">        <a href="#" class="dsq-close" onclick="return DISQUS.dtpl.actions.fire(\'messagesx.markRead\', '),a.put(message.id),a.put(');">Close</a>        '),message.theme=="notice"?(a.put("            "),
function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("messagesxNotice",b))}(),a.put("        ")):message.theme=="achievement"&&(a.put("            "),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("messagesxAchievement",b))}(),a.put("        ")),a.put("    </div>"),a.compile()};c.blocks.likeActivity=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),c.each(thread.voters,function(b){a.put('    <li class="dsq-tt" title="');a.put(b.name);
a.put('"><a href="');a.put(b.url);a.put("\" onclick=\"return DISQUS.dtpl.actions.fire('profile.show', null, '");a.put(b.username);a.put("', ");a.put(b.is_moderator);a.put('); return false"><img src="');a.put(b.avatar);a.put('"/></a></li>  ')}),a.put('  <li class="dsq-like-activity">  '),thread.voters_count>0?(a.put("      "),thread.likes-thread.voters_count>0?(a.put("          "),a.put(c.interpolate(trans("and %(count)s %(other)s liked this."),{count:thread.likes-thread.voters_count,other:lang.pluralize(thread.likes-
thread.voters_count,"other","others")}))):(a.put("          "),a.put("liked this.")),a.put("      "),a.put("  ")):thread.likes>0&&(a.put("      "),a.put(c.interpolate(trans("%(count)s %(person)s liked this."),{count:thread.likes,person:lang.pluralize(thread.likes,"person","people")})),a.put("  ")),a.put("  </li>"),a.compile()};c.blocks.threadSettingsPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-moderate-options">    <span id="dsq-thread-settings-status" class="dsq-options-status"></span>    <p>'),
a.put(trans("These settings only apply to this thread. To change settings site-wide,    visit the main")),a.put(' <a href="'),a.put(urls.settings),a.put('" target="_blank">'),a.put(trans("settings page")),a.put('</a>.</p>    <table class="dsq-moderator-settings">      <tr>        <td>          <h4>'),a.put(trans("Close/Open thread for comments")),a.put("</h4>          <ul>            <li>              "),thread.closed?(a.put('              <a href="#" class="dsq-toggle-thread"                 onclick="return DISQUS.dtpl.actions.fire(\'thread.open\');">'),
a.put(trans("Open thread"))):(a.put('              <a href="#" class="dsq-toggle-thread"                 onclick="return DISQUS.dtpl.actions.fire(\'thread.close\');">'),a.put(trans("Close thread"))),a.put("</a>              "),a.put("            </li>          </ul>        </td>      </tr>      <tr>        <td>          <h4>"),a.put(trans("Automatic Closing")),a.put("</h4>          <p>"),a.put(trans("Do not allow comments after")),a.put('          <input size="3" id="dsq-thread-days-alive" value="'),
a.put(thread.days_alive),a.put('"                 type="text" /> '),a.put(trans("days")),a.put(".           "),a.put(trans("Using 0 days will disable this feature.")),a.put('</p>          <p class="dsq-form-actions">            <button type="button" onclick="DISQUS.dtpl.actions.fire(\'thread.updateDaysAlive\');" class="dsq-button-small">              <span>'),a.put(trans("Save")),a.put("</span>            </button>          </p>        </td>      </tr>      <tr>        <td "),forum.reactions_enabled||
a.put('class="last"'),a.put(">          <h4>"),a.put(trans("Moderate all comments")),a.put('</h4>          <ul class="dsq-moderator-radios">            <li><label><input type="radio" id="dsq-thread-moderate-all"                 name="moderate_all_comments" value="1" '),thread.moderate_all&&a.put('checked="true" '),a.put("/>          "),a.put(trans("<strong>Yes</strong>, moderators must approve all comments before they are published.")),a.put('          </label></li>            <li><label><input type="radio" name="moderate_all_comments" value="0" '),
thread.moderate_none&&a.put('checked="true"'),a.put("/>          "),a.put(trans("<strong>No</strong>, comments don't need to be approved before they are published.")),a.put('</label></li>            <li><label><input type="radio" name="moderate_all_comments" value="2" '),!thread.moderate_all&&!thread.moderate_none&&a.put('checked="true"'),a.put("/>          "),a.put(trans("Use the my <strong>default</strong> forum setting:")),a.put("&nbsp;"),forum.moderate_all?a.put(trans("moderate all comments")):
a.put(trans("don't require moderation")),a.put('</label></li>          </ul>          <p class="dsq-form-actions">            <button type="button" onclick="DISQUS.dtpl.actions.fire(\'thread.updateModerateAll\');" class="dsq-button-small">              <span>'),a.put(trans("Save")),a.put("</span>            </button>          </p>        </td>      </tr>      "),forum.reactions_enabled&&(a.put('      <tr>        <td class="last">          <h4>'),a.put(trans("Manually scan reactions")),a.put("</h4>          <p>"),
a.put(trans("Are you expecting Reactions for this thread, but do not see them? Click here to tell the system to search again.")),a.put('</p>          <p class="dsq-form-actions">            <button type="button" onclick="DISQUS.dtpl.actions.fire(\'reactions.reportMissing\');" class="dsq-button-small">              <span>'),a.put(trans("Scan")),a.put("</span>            </button>          </p>        </td>      </tr>      ")),a.put("    </table>  </div>"),a.compile()};c.blocks.moderatorOptions=function(b,
d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),request.is_moderator&&(a.put('    <div id="dsq-thread-settings" class="dsq-thread-settings">'),a.put(trans("Moderator options")),a.put(':      <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.settings\');">'),a.put(trans("Settings")),a.put('</a>      <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.moderatorActions\');">'),a.put(trans("Moderate")),a.put('</a>      <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'thread.help\');">'),
a.put(trans("Help")),a.put("</a>    </div>  ")),a.compile()};c.blocks.subscribeForm=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div style="width:350px">    <div class="dsq-field">        <label for="dsq-subscribe-email">'),a.put(trans("Your email")),a.put('</label>        <input type="text" id="dsq-subscribe-email"/>    </div>    <button type="button" class="dsq-button"            onclick="DISQUS.dtpl.actions.fire(\'thread.subscribe\', DISQUS.nodes.get(\'#dsq-subscribe-email\').value);">      '),
a.put(trans("Subscribe")),a.put("    </button>  </div>"),a.compile()};c.blocks.moderateOptionsPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-moderate-options">    <table>      '),comment.email&&(a.put("      <tr>        <td>"),a.put(trans("Email")),a.put("</td>        <td>"),a.put(comment.email),a.put("</td>      </tr>      ")),a.put("      "),comment.ip&&(a.put("      <tr>        <td>"),a.put(trans("IP address")),a.put("</td>        <td>"),
a.put(comment.ip),a.put("</td>      </tr>      ")),a.put("      <tr>        <td>"),a.put(trans("Actions")),a.put("</td>        <td>          <ul>            "),request.moderator_can_edit&&(a.put('            <li>              <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.edit.new\', '),a.put(comment.id),a.put(');">'),a.put(trans("Edit Comment")),a.put("</a>            </li>            ")),a.put('            <li>              <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.delete\', '),
a.put(comment.id),a.put(');">'),a.put(trans("Delete Comment")),a.put('</a>            </li>            <li>              <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.spam\', '),a.put(comment.id),a.put(');">'),a.put(trans("Mark Spam")),a.put('</a>            </li>            <li>              <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'comments.blacklist\', '),a.put(comment.id),a.put(');">'),a.put(trans("Block User")),a.put("</a>            </li>          </ul>        </td>      </tr>    </table>  </div>  <p>"),
a.put(trans("Go to the full")),a.put(' <a href="'),a.put(urls.moderate),a.put('" target="_blank">'),a.put(trans("moderate panel")),a.put("</a> "),a.put(trans("for more options.")),a.put("</p>"),a.compile()};c.blocks.pageInfo=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),request.is_global_moderator&&(a.put('    <div class="dsq-global-moderator-extras"         style="display: block; margin-top: 10px; line-height: 20px; font-size: 14px; list-style-type: none; margin-left: 0;">      <strong>Shortname:</strong> '),
a.put(forum.url),a.put("<br/>      <strong>Thread ID:</strong> "),a.put(thread.id),a.put("<br/>      <strong>Thread slug:</strong> "),a.put(thread.slug),a.put("<br/>      <strong>Switches (Legacy):</strong> "),context.active_switches?c.each(context.active_switches,function(b){a.put(" ");a.put(b);a.put(", ")}):a.put("<em>none</em>"),a.put("<br/>      <strong>Switches (Gargoyle):</strong> "),context.active_gargoyle_switches?c.each(context.active_gargoyle_switches,function(b){a.put(" ");a.put(b);a.put(", ")}):
a.put("<em>none</em>"),a.put("<br/>      "),thread.topics&&(a.put("        <strong>Thread topics:</strong> "),thread.topics.length?c.each(thread.topics,function(b){a.put(" ");a.put(b);a.put(", ")}):a.put("<em>not classified</em>"),a.put("<br/>      ")),a.put("      "),forum.packages&&(a.put("        <strong>Packages:</strong> "),forum.packages.length?c.each(forum.packages,function(b){a.put(" ");a.put(b);a.put(", ")}):a.put("<em>no packages</em>"),a.put("<br/>      ")),a.put("    </div>  ")),a.compile()};
c.blocks.editProfileSuggestion=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div id="dsq-edit-profile-suggestion" style="display:none">    <p>'),a.put(trans("Thanks for posting.")),a.put(" "),a.put(trans("Would you like to")),a.put(' <a href="#" onclick="DISQUS.dtpl.actions.fire(\'profile.edit\'); return false">edit your profile</a>?  </div>'),a.compile()};c.blocks.editArea=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <div class="dsq-textarea-wrapper">    <textarea class="dsq-edit-textarea" id="dsq-edit-textarea-'),
a.put(comment.id),a.put('">      '),a.put(comment.message),a.put('    </textarea>    <div id="dsq-edit-iframe-'),a.put(comment.id),a.put('" style="display: none;"></div>  </div>  <div class="dsq-save-edit">    <button type="button" class="dsq-button"      onclick="DISQUS.dtpl.actions.fire(\'comments.edit.send\', '),a.put(comment.id),a.put(', this);">      <span>'),a.put(trans("Save Edit")),a.put("</span>    </button>  </div>"),a.compile()};c.blocks.retweetsPopup=function(b,d){var a=new c.Builder,
f=DISQUS.extend({},b,d);with(f)return a.put("  <p><strong>"),a.put(reaction.author_name),a.put(":</strong> "),a.put(reaction.body),a.put('<br/><a href="'),a.put(reaction.url),a.put('">'),a.put(reaction.url),a.put('<br/></p>  <ul class="dsq-retweets">    '),c.each(reaction.retweets,function(b){a.put('    <li><a href="');a.put(b.url);a.put('">by ');a.put(b.author_name);a.put("</a></li>    ")}),a.put("  </ul>  "),a.compile()};c.blocks.globalToolbarOld=function(b,d){var a=new c.Builder,f=DISQUS.extend({},
b,d);with(f)return a.put('  <div id="dsq-global-toolbar" class="dsq-community-preview">    <table class="dsq-global-toolbar-container">      <tr>        <td class="dsq-global-toolbar-likes">          '),forum.thread_votes_disabled||(a.put('          <div class="dsq-group">            <a href="#" id="dsq-like-thread-button" class="dsq-thread-like dsq-toolbar-item '),thread.user_vote==1&&a.put("dsq-toggled "),a.put(' dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.vote\', 1); return false;"  title="'),
a.put(trans("I like this page")),a.put('">'),a.put(trans("Like")),a.put('</a>            <a href="#" id="dsq-dislike-thread-button" class="dsq-thread-dislike dsq-toolbar-item '),thread.user_vote==-1&&a.put("dsq-toggled "),a.put(' dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.vote\', -1); return false"  title="'),a.put(trans("I don&#39;t like this page")),a.put('">'),a.put(trans("Dislike")),a.put('</a>          </div>          <ul class="dsq-like-faces">              '),function(){var b={};c.extend(b,
d);c.extend(b,{});a.put(c.renderBlock("likeActivity",b))}(),a.put("          </ul>          ")),a.put("        </td>        <td>            "),context.switches.community_icon&&(a.put('            <a href="#" class="dsq-community-launcher dsq-toolbar-item dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'community.show\'); return false"  title="'),a.put(trans("Expand Community Box")),a.put('">'),a.put(trans(" Community")),a.put("</a>            ")),a.put("        </td>        "),request.is_moderator&&(a.put('        <td class="dsq-global-toolbar-settings">          <a href="#" class="dsq-admin-settings dsq-toolbar-item dsq-tt" onclick="DISQUS.dtpl.actions.fire(\'thread.settings\'); return false;"  title="'),
a.put(trans("Settings")),a.put('">'),a.put(trans("Settings")),a.put("</a>        </td>        ")),a.put('        <td class="dsq-global-toolbar-dropdown-container">          '),function(){var b={};c.extend(b,d);c.extend(b,{});a.put(c.renderBlock("globalToolbarDropdown",b))}(),a.put('        </td>      </tr>    </table>  </div>  <div id="dsq-like-tooltip">    <div id="dsq-share-step-1" class="dsq-share-step">      <h3>'),a.put(trans("Glad you liked it. Would you like to share?")),a.put('</h3>      <p class="dsq-tooltip-checkbox"><input type="checkbox" id="dsq-share-thread-facebook" value="Facebook" /><label for="dsq-share-thread-facebook"><span class="dsq-facebook">Facebook</span></label></p>      <p class="dsq-tooltip-checkbox"><input type="checkbox" id="dsq-share-thread-twitter" value="Twitter" /><label for="dsq-share-thread-twitter"><span class="dsq-twitter">Twitter</span></label></p>      <ul id="dsq-tooltip-actions">        '),
forum.template.api=="1.0"?a.put('            <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share\'); return false" class="dsq-primary-action">'):a.put('            <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share.send\'); return false" class="dsq-primary-action">'),a.put(trans("Share")),a.put("</a></li>        "),a.put('        <li><a href="#" onclick="DISQUS.dtpl.actions.fire(\'thread.share.cancel\'); return false" class="dsq-secondary-action">'),a.put(trans("No thanks")),
a.put('</a></li>      </ul>    </div>    <div id="dsq-share-step-2" class="dsq-share-step" style="display:none !important">      <p>'),a.put(trans("Sharing this page")),a.put(' &hellip;</p>    </div>    <div id="dsq-share-step-3" class="dsq-share-step" style="display:none !important">      <p>'),a.put(trans("Thanks!")),a.put(' <a href="#" class="dsq-tooltip-decline" onclick="DISQUS.dtpl.actions.fire(\'thread.share.cancel\'); return false">Close</a></p>    </div>  </div>'),a.compile()};c.blocks.mediaEmbedPopup=
function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),media.type==1||media.type==5?(a.put('  <p><img src="'),a.put(media.location),a.put('" onload="DISQUS.popup.adjustPosition();"/></p>  <p><a href="'),a.put(media.location),a.put('" target="_blank">'),a.put(trans("Original")),a.put("</a></p>  ")):media.type==2?(a.put('  <div style="width:480px !important;height:385px !important;">    <object width="480" height="385">      <param name="movie" value="http://www.youtube.com/v/'),
a.put(media.location),a.put('&hl=en_US&fs=1&"></param>      <param name="allowFullScreen" value="true"></param>      <param name="allowscriptaccess" value="always"></param>      <embed src="http://www.youtube.com/v/'),a.put(media.location),a.put('&hl=en_US&fs=1&" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="385"></embed>    </object>  </div>  ')):media.type==4&&(a.put('  <p><img src="'),a.put(media.metadata.medium),a.put('" onload="DISQUS.popup.adjustPosition();"/></p>  <p><a href="'),
a.put(media.metadata.url),a.put('" target="_blank">'),a.put(trans("Original")),a.put("</a></p>  ")),a.compile()};c.blocks.postbox_login_options_dropdown=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('  <ul class="dsq-login-buttons">    '),c.each(loginOptions,function(b){a.put("      ");b.enabled&&(a.put("        "),b.userDefined?(a.put('          <li class="dsq-login-button">            <a href="#" onclick="return DISQUS.dtpl.actions.fire(\''),a.put(b.action),a.put('\');">              <img src="'),
a.put(b.button_url),a.put('">            </a>          </li>        ')):(a.put('          <li class="dsq-login-button dsq-login-button-'),a.put(b.name),a.put('">            <a href="#" onclick="return DISQUS.dtpl.actions.fire(\''),a.put(b.action),a.put("');\"></a>          </li>        ")),a.put("      "));a.put("    ")}),a.put('    <li style="clear:both"></li>  </ul>'),a.compile()};c.blocks.unapprovedCommentMessage=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),
mustVerify?(a.put("  "),a.put(trans("You must finish verifying your Disqus Profile email address in order for your comment to appear here.")),a.put('<br/><br/>  <a href="'),a.put(urls.verify_email),a.put('">'),a.put(trans("Click here to verify your email address")),a.put("</a>  ")):(a.put("  "),a.put(trans("Your comment must be approved by a moderator before appearing here.")),a.put("  ")),a.compile()};c.blocks.userVotesPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  <ul>    "),
c.each(users,function(b){a.put('    <li class="dsq-liked-by-user">      <a href="');a.put(settings.disqus_url);a.put("/");a.put(b.username);a.put('" target="_blank">        <img src="');a.put(b.avatar_url);a.put('" alt=""/>        ');b.display_name?a.put(b.display_name):a.put(b.username);a.put("      </a>    </li>    ")}),a.put("  </ul>  "),anon_likes>0&&(a.put("  <p>and "),a.put(anon_likes),a.put(" more "),a.put(lang.pluralize(anon_likes,"person","people")),a.put(".</p>  ")),a.compile()};c.blocks.helpLogin=
function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("<p>"),a.put(trans("In order to properly log you in, your browser needs to accept cookies from all domains.")),a.put("</p><p>"),a.put(trans("Open up Settings > Privacy. Then, make sure <strong>Accept cookies from sites</strong> is checked. Also, make sure <strong>Accept third-party</strong> is checked as well.")),a.put("</p><p>"),a.put(trans("After closing your settings, you may try logging in again.")),a.put("</p><p>"),
a.put(trans("Optional: If you would rather add an exception just for Disqus, click &ldquo;Exceptions...&rdquo; and add disqus.com as an allowed domain.")),a.put("</p>"),a.compile()};c.blocks.moderatorHelpPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('<ul class="dsq-thread-help">  '),forum.reactions_enabled&&(a.put('  <li>    <a href="#" onclick="return DISQUS.dtpl.actions.fire(\'reactions.reportMissing\');">'),a.put(trans("Report missing reactions")),a.put("</a>    <p>"),
a.put(trans("Are you expecting Reactions for this thread, but do not see them? Select this option to tell the system to search again.")),a.put("</p>  </li>  ")),a.put('  <li>    <a href="http://help.disqus.com/forums/" target="_blank">'),a.put(trans("Knowledge Base")),a.put("</a>    <p>"),a.put(trans("Our Knowledge Base has the answers to the most common questions.")),a.put("</p>  </li></ul>"),a.compile()};c.blocks.messagesxAchievement=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('    <div class="dsq-messagesx-badge">        <img src="'),
a.put(settings.media_url),a.put('/images/achievements/troll_zeeg.jpg" />    </div>    <div class="dsq-messagesx-body">        <h2><a href="#">'),a.put(message.formatted.name),a.put("</a></h2>        <p>"),a.put(message.formatted.text),a.put("</p>    </div>"),a.compile()};c.blocks.loadingPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put('<div style="text-align: center; padding: 5px 0 10px 0;">  <img src="'),a.put(settings.media_url),a.put('/images/loading.gif" alt=""/></div>'),
a.compile()};c.blocks.blacklistPopup=function(b,d){var a=new c.Builder,f=DISQUS.extend({},b,d);with(f)return a.put("  "),a.put(trans("Adding this person to the blacklist will block him or her from commenting on this site. Check the following types that you would like to add to the blacklist")),a.put(":  "),user.registered&&(a.put('  <div class="dsq-blacklist-option">    <input id="dsq-blacklist-username" type="checkbox" checked="true"/>    <label for="dsq-blacklist-username"><strong>'),a.put(trans("Username")),
a.put("</strong>: "),a.put(user.username),a.put("</label>  </div>  ")),a.put("  "),comment.email&&(a.put('  <div class="dsq-blacklist-option">    <input id="dsq-blacklist-email" type="checkbox" checked="true"/>    <label for="dsq-blacklist-email"><strong>'),a.put(trans("Email address")),a.put("</strong>: "),a.put(comment.email),a.put("</label>  </div>  ")),a.put('  <div class="dsq-blacklist-option">    <input id="dsq-blacklist-ip" type="checkbox" onclick="DISQUS.nodes.get(\'#dsq-blacklist-ip-warning\').style.display=\'block\';"/>    <label for="dsq-blacklist-ip"><strong>'),
a.put(trans("IP address")),a.put("</strong>: "),a.put(comment.ip),a.put('</label>  </div>  <p id="dsq-blacklist-ip-warning" style="display:none">    '),a.put(trans("Note: Blocking this person's IP address may also unintentionally    prevent others, who share his/her IP address, from commenting on    this site. This may include people who are sharing the same    computer, living in the same house, or using the same Internet    provider. Only block an IP address as a last resort.")),a.put('  </p>  <p style="text-align:center">    <button type="button" onclick="DISQUS.dtpl.actions.fire(\'comments.blacklist\', '),
a.put(comment.id),a.put(', true);">      '),a.put(trans("Add to Blacklist")),a.put("    </button>  </p>"),a.compile()}});
